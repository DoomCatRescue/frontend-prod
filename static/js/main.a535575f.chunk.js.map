{"version":3,"sources":["web3/chains.js","web3/useProvider.js","web3/useListeners.js","web3/index.js","dataContext/index.js","dataContext/cats.js","dataContext/contracts.js","dataContext/time.js","dataContext/balance.js","dataContext/auctions.js","dataContext/rescue.js","dataContext/hatebalance.js","components/header.js","components/footer.js","components/Jumbo.js","utils/time.js","components/Rescue.js","dataContext/transactions.js","pages/Home.js","pages/Auctions.js","components/DoomCat.js","pages/DoomCats.js","App.js","index.js"],"names":["supportedChains","parseInt","process","providerOptions","walletconnect","package","WalletConnectProvider","options","infuraId","web3Modal","Web3Modal","cacheProvider","theme","defaultName","defaultWeb3","name","account","chainId","provider","signerOrProvider","makeInjectedProvider","web3Provider","selectedAddress","accounts","getSigner","useProvider","useState","setWeb3Provider","reloadedProvider","myProvider","setMyProvider","useEffect","on","includes","ethers","providers","Web3Provider","toast","toastId","clearCachedProvider","off","window","location","reload","length","removeAllListeners","useListeners","cachedProvider","Promise","resolve","reject","connect","then","userSuppliedProvider","catch","console","error","providerKeys","defaultProvider","getDefaultProvider","network","getFallbackProvider","a","context","createContext","displayName","Provider","children","value","createWeb3Root","useWeb3","useContext","fetchRetry","FetchRetry","fetch","DataProvider","doomCatContract","addresses","setDoomCatContract","contract","Contract","doomCatRescue","DoomCatRescue","useDoomCatContract","setAddresses","useAddresses","hateContract","setHateContract","HATE","tokenAddress","ERC20","useHateContract","currentBlock","BigNumber","from","setCurrentBlock","getBlockNumber","blockNumber","removeListener","useCurrentBlock","currentTime","Math","floor","Date","now","setCurrentTime","eq","getBlock","toNumber","block","timestamp","timer","setInterval","add","clearInterval","useCurrentTime","myEtherBalance","setMyEtherBalance","getBalance","balance","useMyEtherBalance","genesisCats","setGenesisCats","useGenesisCats","auctionsStart","setAuctionsStart","useAuctionsStart","auctionsDuration","setAuctionsDuration","useAuctionsDuration","auctionsDistance","setAuctionsDistance","useAuctionsDistance","auctionsCount","setAuctionsCount","useAuctionsCount","catsPerAuction","setCatsPerAuction","auctionsCatsPerAuction","useAuctionsCatsPerAuction","auctionsBidIncrement","bidIncrement","setBidIncrement","useAuctionsBidIncrement","completedAuctions","start","duration","distance","count","setCompletedAuctions","endOfFirst","fullCycle","lt","gte","mul","sub","div","useCompletedAuctions","auctionEndsIn","setAuctionEndsIn","remaining","mod","useAuctionEndsIn","nextAuctionIn","setNextAuctionIn","useNextAuctionIn","inAuctionNumber","setInAuctionNumber","gt","useInAuctionNumber","rescueStartTime","setRescueStartTime","useRescueStartTime","catBalance","address","setCatBalance","getCatBalance","transferCatInFilter","filters","Transfer","transferCatOutFilter","increaseCatBalance","decreaseCatBalance","balanceOf","useCatBalance","catIdsOfOwnerByIndexes","Array","fill","catIds","setCatIds","all","keys","map","i","tokenOfOwnerByIndex","tokenIds","sort","b","useTokensOfOwnerByIndexes","totalCats","setTotalCats","useTotalCats","remainingCats","setRemainingCats","updateRemainingCats","useRemainingCats","rescuePriceInitial","setRescuePriceInitial","useRescuePriceInitial","rescuePrice","setRescuePrice","updateRescuePrice","useRescuePrice","rescuePriceIncrement","setRescuePriceIncrement","useRescuePriceIncrement","rescueTrancheSize","setRescueTrancheSize","useRescueTrancheSize","rescuePriceFinal","setRescuePriceFinal","useRescuePriceFinal","dataContext","rescueRateLimit","setRescueRateLimit","useRescueRateLimit","rescueLastBlock","setRescueLastBlock","rescueLastBlockFilter","Rescue","updateRescueLastBlock","_","__","___","useRescueLastBlock","hateBalance","hate","blockNum","myHateBalance","setMyHateBalance","useMyHateBalance","createDataRoot","useData","Header","className","to","substring","onClick","parseFloat","utils","formatEther","toFixed","href","target","rel","Footer","Jumbo","useTimeSplitter","seconds","zeroPad","num","String","padStart","d","h","m","s","pending","setPending","contractCall","useCallback","contractFn","parameters","pendingMessage","failedMessage","successMessage","successCallback","completedCallback","txResponse","autoClose","closeOnClick","draggable","wait","txReceipt","dismiss","status","success","useTransaction","history","useHistory","buttonDisabled","setButtonDisabled","toString","disabled","rescue","push","Paragraph","Home","startDate","toLocaleDateString","toLocaleTimeString","Auctions","Container","LoadingError","catId","DoomCat","tokenId","setError","catInfo","setCatInfo","tokenURI","retries","retryDelay","attempt","pow","retryOn","response","ok","json","result","id","Error","useCatInfo","message","width","src","image","alt","attributes","trait_type","DoomCats","index","App","path","component","closeButton","position","newestOnTop","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a535575f.chunk.js","sourcesContent":["import { useState, useEffect } from 'react'\n\nconst supportedChains = () => {\n  const dev = process.env.NODE_ENV !== 'production' ? [parseInt(process.env.REACT_APP_LOCAL_CHAIN_ID, 10)] : []\n  return [...dev, parseInt(process.env.REACT_APP_CHAIN_ID, 10)]\n}\n\nconst useAddresses = chainId => {\n  const [addresses, setAddresses] = useState()\n\n  useEffect(() => {\n    if (chainId === parseInt(process.env.REACT_APP_LOCAL_CHAIN_ID, 10)) {\n      setAddresses({\n        doomCatRescue: process.env.REACT_APP_LOCAL_DOOMCAT_ADDRESS,\n      })\n    } else if (chainId === parseInt(process.env.REACT_APP_CHAIN_ID, 10)) {\n      setAddresses({\n        doomCatRescue: process.env.REACT_APP_DOOMCAT_ADDRESS,\n      })\n    }\n  }, [chainId])\n\n  return addresses\n}\n\nexport {\n  supportedChains,\n  useAddresses\n}\n","import { useEffect, useState } from 'react'\nimport { ethers, getDefaultProvider } from 'ethers'\nimport Web3Modal from 'web3modal'\nimport WalletConnectProvider from '@walletconnect/web3-provider'\nimport { supportedChains } from './chains'\nimport { useListeners } from './useListeners'\n\nconst providerOptions = {\n  walletconnect: {\n    package: WalletConnectProvider,\n    options: {\n      infuraId: process.env.REACT_APP_INFURA_API_KEY,\n    },\n  },\n}\n\nconst web3Modal = new Web3Modal({\n  providerOptions,\n  cacheProvider: true,\n  theme: 'dark'\n})\n\nconst defaultName = 'not connected'\nconst defaultWeb3 = {\n  name: defaultName,\n  account: false,\n  chainId: null,\n  provider: null,\n  signerOrProvider: null,\n}\n\nfunction makeInjectedProvider(web3Provider) {\n  return {\n    name: 'injected provider',\n    account: web3Provider.provider.selectedAddress || web3Provider.provider.accounts[0],\n    chainId: parseInt(web3Provider.provider.chainId),\n    provider: web3Provider,\n    signerOrProvider: web3Provider.getSigner(),\n  }\n}\n\nfunction getInjectedProvider(web3Modal) {\n  return new Promise((resolve, reject) => {\n    web3Modal.connect().then(userSuppliedProvider => {\n      const web3Provider = new ethers.providers.Web3Provider(userSuppliedProvider)\n      resolve(makeInjectedProvider(web3Provider))\n    }).catch(reject)\n  })\n}\n\nfunction getLocalProvider() {\n  const localProvider = new ethers.providers.JsonRpcProvider(process.env.REACT_APP_LOCAL_PROVIDER_URL)\n  return new Promise((resolve, reject) => {\n    localProvider.detectNetwork().then(network => {\n      resolve({\n        name: 'local provider',\n        account: false,\n        chainId: network.chainId,\n        provider: localProvider,\n        signerOrProvider: localProvider,\n      })\n    }).catch(reject)\n  })\n}\n\nfunction getFallbackProvider() {\n  const providerKeys = {}\n  if (process.env.REACT_APP_INFURA_API_KEY) providerKeys.infura = process.env.REACT_APP_INFURA_API_KEY\n  if (process.env.REACT_APP_ALCHEMY_API_KEY) providerKeys.alchemy = process.env.REACT_APP_ALCHEMY_API_KEY\n  if (process.env.REACT_APP_ETHERSCAN_API_KEY) providerKeys.etherscan = process.env.REACT_APP_ETHERSCAN_API_KEY\n\n  const defaultProvider = getDefaultProvider(parseInt(process.env.REACT_APP_CHAIN_ID, 10), providerKeys)\n\n  return {\n    name: 'fallback provider',\n    account: false,\n    chainId: defaultProvider.network.chainId,\n    provider: defaultProvider,\n    signerOrProvider: defaultProvider,\n  }\n}\n\nfunction useProvider() {\n  const [web3Provider, setWeb3Provider] = useState(defaultWeb3)\n\n  const reloadedProvider = useListeners(web3Provider.provider?.provider, web3Modal)\n  useEffect(() => {\n    if (!reloadedProvider) {\n      setWeb3Provider(defaultWeb3)\n    } else {\n      setWeb3Provider(makeInjectedProvider(reloadedProvider))\n    }\n  }, [reloadedProvider])\n\n  useEffect(() => {\n    if (web3Provider.name !== defaultName) return\n\n    if (web3Modal.cachedProvider || (web3Provider.signerOrProvider && supportedChains().includes(parseInt(web3Provider.signerOrProvider.chainId)))) {\n      getInjectedProvider(web3Modal)\n        .then(setWeb3Provider)\n        .catch(console.error)\n    } else if (process.env.NODE_ENV === 'development') {\n      getLocalProvider()\n        .then(setWeb3Provider)\n        .catch(() => setWeb3Provider(getFallbackProvider()))\n    } else {\n      setWeb3Provider(getFallbackProvider())\n    }\n  }, [web3Provider.name, web3Provider.signerOrProvider])\n\n  return web3Provider\n}\n\nasync function connect() {\n  await web3Modal.connect()\n}\n\nexport { useProvider, connect }\n","import { useState, useEffect } from 'react'\nimport { ethers } from 'ethers'\nimport { toast } from 'react-toastify'\nimport { supportedChains } from './chains'\n\nfunction useListeners(provider, web3Modal) {\n  const [myProvider, setMyProvider] = useState(null)\n\n  useEffect(() => {\n    // subscribe to connect events\n    web3Modal.on('connect', provider => {\n      if (!supportedChains().includes(parseInt(provider.chainId))) {\n        toast('Switch to a supported network', { toastId: 'switchNetwork' })\n        web3Modal.clearCachedProvider()\n        setMyProvider(null)\n      } else {\n        const web3Provider = new ethers.providers.Web3Provider(provider)\n        setMyProvider(web3Provider)\n        toast('Connected', { toastId: 'connected' })\n      }\n    })\n\n    return () => {\n      web3Modal.off('connect')\n    }\n  }, [web3Modal])\n\n  useEffect(() => {\n    if (!provider) return\n\n    // subscribe to Network events\n    provider.on('chainChanged', chainId => {\n      if (!supportedChains().includes(parseInt(chainId))) {\n        toast('Switch to a supported network', { toastId: 'switchNetwork' })\n        web3Modal.clearCachedProvider()\n        setMyProvider(null)\n      } else {\n        window.location.reload()\n      }\n    })\n\n    // subscribe to account change events\n    provider.on('accountsChanged', accounts => {\n      if (accounts.length === 0) {\n        toast('Account disconnected', { toastId: 'disconnected' })\n        web3Modal.clearCachedProvider()\n        setMyProvider(null)\n      } else {\n        toast('Account changed', { toastId: 'connected' })\n        setMyProvider(null)\n      }\n    })\n\n    // subscribe to provider disconnection\n    provider.on('disconnect', () => {\n      toast('Account disconnected', { toastId: 'disconnected' })\n      web3Modal.clearCachedProvider()\n      setMyProvider(null)\n    })\n\n    // unsubscribe\n    return () => {\n      provider.removeAllListeners()\n    }\n  }, [provider, web3Modal])\n\n  return myProvider\n}\n\nexport { useListeners }\n","import { createContext, useContext } from 'react'\nimport { useProvider } from './useProvider.js'\n\nlet context\n\nfunction createWeb3Root() {\n  context = createContext()\n\n  context.displayName = 'Web3 Provider'\n  const Provider = context.Provider\n\n  return function ({ children }) {\n    const web3Provider = useProvider()\n\n    return (\n      <Provider value={web3Provider}>\n        {children}\n      </Provider>\n    )\n  }\n}\n\nconst Web3Provider = createWeb3Root()\n\nfunction useWeb3() {\n  return useContext(context)\n}\n\nexport { Web3Provider, useWeb3 }\n","import { createContext, useContext } from 'react'\nimport { useWeb3 } from '../web3'\nimport { useAddresses } from '../web3/chains'\n\nimport {\n   useDoomCatContract,\n   useHateContract \n} from './contracts'\n\nimport {\n  useCurrentBlock,\n  useCurrentTime,\n} from './time'\n\nimport {\n  useMyEtherBalance\n} from './balance'\n\nimport {\n  useGenesisCats,\n  useAuctionsStart,\n  useAuctionsDuration,\n  useAuctionsDistance,\n  useAuctionsCount,\n  useAuctionsCatsPerAuction,\n  useAuctionsBidIncrement,\n  useCompletedAuctions,\n  useAuctionEndsIn,\n  useNextAuctionIn,\n  useInAuctionNumber,\n} from './auctions'\n\nimport {\n  useRescueStartTime,\n  useTotalCats,\n  useRemainingCats,\n  useRescuePriceInitial,\n  useRescuePrice,\n  useRescuePriceIncrement,\n  useRescueTrancheSize,\n  useRescuePriceFinal,\n  useRescueRateLimit,\n  useRescueLastBlock,\n} from './rescue'\n\nimport {\n  useCatBalance,\n  useTokensOfOwnerByIndexes,\n} from './cats'\n\nimport {\n  useMyHateBalance\n} from './hatebalance'\n\nlet context\n\nconst createDataRoot = () => {\n  context = createContext()\n\n  context.displayName = 'Data Provider'\n  const Provider = context.Provider\n\n  return ({ children }) => {\n    const { account, chainId, signerOrProvider } = useWeb3()\n    const addresses = useAddresses(chainId)\n\n    const doomCatContract = useDoomCatContract(signerOrProvider, addresses)\n    const hateContract = useHateContract(signerOrProvider, doomCatContract)\n\n    const currentBlock = useCurrentBlock()\n    const currentTime = useCurrentTime(currentBlock)\n\n    const myEtherBalance = useMyEtherBalance(account, currentBlock)\n\n    const genesisCats = useGenesisCats(doomCatContract)\n    const auctionsStart = useAuctionsStart(doomCatContract)\n    const auctionsDuration = useAuctionsDuration(doomCatContract)\n    const auctionsDistance = useAuctionsDistance(doomCatContract)\n    const auctionsCount = useAuctionsCount(doomCatContract)\n    const catsPerAuction = useAuctionsCatsPerAuction(doomCatContract)\n    const auctionsBidIncrement = useAuctionsBidIncrement(doomCatContract)\n    const completedAuctions = useCompletedAuctions(currentTime, auctionsStart, auctionsDuration, auctionsDistance, auctionsCount)\n    const auctionEndsIn = useAuctionEndsIn(currentTime, auctionsStart, auctionsDuration, auctionsDistance, auctionsCount)\n    const nextAuctionIn = useNextAuctionIn(currentTime, auctionsStart, auctionsDuration, auctionsDistance, auctionsCount)\n    const inAuctionNumber = useInAuctionNumber(currentTime, auctionsStart, auctionsDuration, auctionsDistance, auctionsCount)\n\n    const rescueStartTime = useRescueStartTime(doomCatContract)\n    const catBalance = useCatBalance(doomCatContract, account)\n    const catIdsOfOwnerByIndexes = useTokensOfOwnerByIndexes(doomCatContract, account, catBalance)\n    const totalCats = useTotalCats(doomCatContract)\n    const remainingCats = useRemainingCats(doomCatContract)\n    const rescuePriceInitial = useRescuePriceInitial(doomCatContract)\n    const rescuePrice = useRescuePrice(doomCatContract)\n    const rescuePriceIncrement = useRescuePriceIncrement(doomCatContract)\n    const rescueTrancheSize = useRescueTrancheSize(doomCatContract)\n    const rescuePriceFinal = useRescuePriceFinal(doomCatContract, totalCats, genesisCats, rescuePriceInitial, rescuePriceIncrement, rescueTrancheSize)\n    const rescueRateLimit = useRescueRateLimit(doomCatContract)\n    const rescueLastBlock = useRescueLastBlock(doomCatContract, account)\n\n    const hateBalance = useMyHateBalance(account, hateContract, currentBlock)\n\n\n    const dataContext = {\n      doomCatContract,\n      hateContract,\n\n      currentBlock,\n      currentTime,\n\n      myEtherBalance,\n\n      genesisCats,\n      auctionsStart,\n      auctionsDuration,\n      auctionsDistance,\n      auctionsCount,\n      catsPerAuction,\n      auctionsBidIncrement,\n      completedAuctions,\n      auctionEndsIn,\n      nextAuctionIn,\n      inAuctionNumber,\n\n      rescueStartTime,\n      catBalance,\n      catIdsOfOwnerByIndexes,\n      totalCats,\n      remainingCats,\n      rescuePriceInitial,\n      rescuePrice,\n      rescuePriceIncrement,\n      rescueTrancheSize,\n      rescuePriceFinal,\n      rescueRateLimit,\n      rescueLastBlock,\n\n      hateBalance\n    }\n\n    return <Provider value={dataContext}>{children}</Provider>\n  }\n}\n\nconst DataProvider = createDataRoot()\n\nconst useData = () => {\n  return useContext(context)\n}\n\nexport { DataProvider, useData }\n","import { useState, useEffect } from 'react'\nimport { BigNumber } from 'ethers'\nimport FetchRetry from 'fetch-retry'\nconst fetchRetry = FetchRetry(fetch)\n\nfunction useCatBalance(doomCatRescue, address) {\n  const [catBalance, setCatBalance] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue || !address) return\n\n    function getCatBalance() {\n      doomCatRescue.balanceOf(address)\n        .then(setCatBalance)\n        .catch(console.error)\n    }\n\n    getCatBalance()\n\n    function increaseCatBalance() {\n      getCatBalance()\n    }\n\n    function decreaseCatBalance() {\n      getCatBalance()\n    }\n\n    const transferCatInFilter = doomCatRescue.filters.Transfer(null, address, null)\n    const transferCatOutFilter = doomCatRescue.filters.Transfer(address, null, null)\n\n    doomCatRescue.on(transferCatInFilter, increaseCatBalance)\n    doomCatRescue.on(transferCatOutFilter, decreaseCatBalance)\n\n    return () => {\n      doomCatRescue.removeListener(transferCatInFilter, increaseCatBalance)\n      doomCatRescue.removeListener(transferCatOutFilter, decreaseCatBalance)\n    }\n  }, [doomCatRescue, address])\n\n  return catBalance\n}\n\nfunction useTokensOfOwnerByIndexes(doomCatRescue, address, balance) {\n  const [catIds, setCatIds] = useState(new Array(balance.toNumber()).fill(BigNumber.from(0)))\n\n  useEffect(() => {\n    if (!doomCatRescue || !address || balance.eq(BigNumber.from(0))) return\n\n    Promise.all([...new Array(balance.toNumber()).keys()].map(i => doomCatRescue.tokenOfOwnerByIndex(address, i)))\n      .then(tokenIds => tokenIds.sort((a, b) => a.sub(b)))\n      .then(setCatIds)\n      .catch(console.error)\n  }, [address, balance, doomCatRescue])\n\n  return catIds\n}\n\nfunction useCatInfo(doomCatRescue, tokenId) {\n  const [error, setError] = useState(null)\n  const [catInfo, setCatInfo] = useState(null)\n\n  useEffect(() => {\n    if (!doomCatRescue || !tokenId) return\n\n    doomCatRescue.tokenURI(tokenId.toString())\n      .then(tokenURI => {\n        return fetchRetry(tokenURI, {\n          retries: 5,\n          retryDelay: (attempt) => Math.pow(2, attempt) * 1000,\n          retryOn: [401]\n        })\n      })\n      .then(response => {\n        if (response.ok) {\n          return response.json()\n            .then(\n              result => setCatInfo({ ...result, id: tokenId.toNumber() }),\n              error => setError(error)\n            )\n        } else {\n          setError(new Error(\"Unable to load cat\"))\n        }\n      })\n      .catch(error => {\n        setError(error)\n      })\n  }, [doomCatRescue, tokenId, error])\n\n  return [catInfo, error]\n}\n\nexport {\n  useCatBalance,\n  useTokensOfOwnerByIndexes,\n  useCatInfo,\n}","import { useState, useEffect } from 'react'\nimport { Contract } from 'ethers'\nimport DoomCatRescue from '../abis/DoomCatRescue.json'\nimport ERC20 from '../abis/ERC20.json'\n\nconst useDoomCatContract = (provider, addresses) => {\n  const [doomCatContract, setDoomCatContract] = useState(null)\n\n  useEffect(() => {\n    if (!provider || !addresses) return\n\n    const contract = new Contract(addresses.doomCatRescue, DoomCatRescue, provider)\n    setDoomCatContract(contract)\n  }, [addresses, provider])\n\n  return doomCatContract\n}\n\nconst useHateContract = (provider, doomCatRescue) => {\n  const [hateContract, setHateContract] = useState(null)\n\n  useEffect(() => {\n    if (!provider || !doomCatRescue) return\n\n    doomCatRescue.HATE()\n      .then(tokenAddress => {\n        const contract = new Contract(tokenAddress, ERC20, provider)\n        setHateContract(contract)\n      }).catch(console.error);\n  }, [doomCatRescue, provider])\n\n  return hateContract\n}\n\nexport { useDoomCatContract, useHateContract }\n","import { useState, useEffect } from 'react'\nimport { BigNumber } from 'ethers'\nimport { useWeb3 } from '../web3'\n\nfunction useCurrentBlock() {\n  const [currentBlock, setCurrentBlock] = useState(BigNumber.from(0))\n  const { provider } = useWeb3()\n\n  useEffect(() => {\n    if (!provider) return\n\n    provider.getBlockNumber().then(blockNumber => {\n      setCurrentBlock(BigNumber.from(blockNumber))\n    }).catch(console.error)\n\n    const getBlockNumber = blockNumber => {\n      setCurrentBlock(BigNumber.from(blockNumber))\n    }\n\n    provider.on('block', getBlockNumber)\n\n    return () => {\n      provider.removeListener('block', getBlockNumber)\n    }\n  }, [provider])\n\n  return currentBlock\n}\n\nfunction useCurrentTime(blockNumber) {\n  const [currentTime, setCurrentTime] = useState(BigNumber.from(Math.floor(Date.now() / 1000)))\n  const { provider } = useWeb3()\n\n  useEffect(() => {\n    if (!provider || blockNumber.eq(0)) return\n\n    provider.getBlock(blockNumber.toNumber()).then(block => {\n      if (block) {\n        setCurrentTime(BigNumber.from(block.timestamp))\n      }\n    }).catch(console.error)\n\n    const timer = setInterval(() => {\n      setCurrentTime(currentTime => currentTime.add(BigNumber.from(1)))\n    }, 1000)\n\n    return () => {\n      clearInterval(timer)\n    }\n  }, [provider, blockNumber])\n\n  return currentTime\n}\n\nexport {\n  useCurrentBlock,\n  useCurrentTime,\n}","import { useState, useEffect } from 'react'\nimport { BigNumber } from 'ethers'\nimport { useWeb3 } from '../web3'\n\nfunction useMyEtherBalance(account, block) {\n  const [myEtherBalance, setMyEtherBalance] = useState(BigNumber.from(0))\n  const { provider } = useWeb3()\n\n  useEffect(() => {\n    if (!account || !provider) {\n      setMyEtherBalance(BigNumber.from(0))\n      return\n    }\n\n    provider.getBalance(account).then(balance => {\n      setMyEtherBalance(balance)\n    }).catch(console.error)\n  }, [account, block, provider])\n\n  return myEtherBalance\n}\n\nexport {\n  useMyEtherBalance,\n}\n","import { useState, useEffect } from 'react'\nimport { BigNumber } from 'ethers'\n\nfunction useGenesisCats(doomCatRescue) {\n  const [genesisCats, setGenesisCats] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.genesisCats()\n      .then(setGenesisCats)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return genesisCats\n}\n\n\nfunction useAuctionsStart(doomCatRescue) {\n  const [auctionsStart, setAuctionsStart] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.auctionsStart()\n      .then(setAuctionsStart)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return auctionsStart\n}\n\nfunction useAuctionsDuration(doomCatRescue) {\n  const [auctionsDuration, setAuctionsDuration] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.auctionsDuration()\n      .then(setAuctionsDuration)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return auctionsDuration\n}\n\nfunction useAuctionsDistance(doomCatRescue) {\n  const [auctionsDistance, setAuctionsDistance] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.auctionsDistance()\n      .then(setAuctionsDistance)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return auctionsDistance\n}\n\nfunction useAuctionsCount(doomCatRescue) {\n  const [auctionsCount, setAuctionsCount] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.auctionsCount()\n      .then(setAuctionsCount)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return auctionsCount\n}\n\nfunction useAuctionsCatsPerAuction(doomCatRescue) {\n  const [catsPerAuction, setCatsPerAuction] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.auctionsCatsPerAuction()\n      .then(setCatsPerAuction)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return catsPerAuction\n}\n\nfunction useAuctionsBidIncrement(doomCatRescue) {\n  const [bidIncrement, setBidIncrement] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.auctionsBidIncrement()\n      .then(setBidIncrement)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return bidIncrement\n}\n\nfunction useCompletedAuctions(currentTime, start, duration, distance, count) {\n  const [completedAuctions, setCompletedAuctions] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    const endOfFirst = start.add(duration)\n    const fullCycle = duration.add(distance)\n\n    // first auction hasn't completed yet\n    if (currentTime.lt(endOfFirst)) {\n      setCompletedAuctions(BigNumber.from(0))\n      return\n    }\n\n    // last auction is over\n    if (currentTime.gte(endOfFirst.add(fullCycle.mul(count)))) {\n      setCompletedAuctions(count)\n      return\n    }\n\n    // in the auction cycle\n    setCompletedAuctions(currentTime.sub(endOfFirst).div(fullCycle).add(1))\n  }, [count, currentTime, distance, duration, start])\n\n  return completedAuctions\n}\n\nfunction useAuctionEndsIn(currentTime, start, duration, distance, count) {\n  const [auctionEndsIn, setAuctionEndsIn] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (duration.eq(0)) return\n\n    const fullCycle = duration.add(distance)\n    const remaining = duration.sub(currentTime.sub(start).mod(fullCycle))\n\n    // before first auction starts\n    if (currentTime.lt(start)) {\n      setAuctionEndsIn(BigNumber.from(0))\n      return\n    }\n\n    // after last auction starts\n    if (currentTime.gte(start.add(fullCycle.mul(count)))) {\n      setAuctionEndsIn(BigNumber.from(0))\n      return\n    }\n\n    // during auctions\n    if (remaining.lt(0)) {\n      setAuctionEndsIn(BigNumber.from(0))\n    } else {\n      setAuctionEndsIn(remaining)\n    }\n\n  }, [count, currentTime, distance, duration, start])\n\n  return auctionEndsIn\n}\n\nfunction useNextAuctionIn(currentTime, start, duration, distance, count) {\n  const [nextAuctionIn, setNextAuctionIn] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (duration.eq(0)) return\n\n    const fullCycle = duration.add(distance)\n    const remaining = distance.sub(currentTime.sub(start).add(distance).mod(fullCycle))\n\n    // before first auction starts\n    if (currentTime.lt(start)) {\n      setNextAuctionIn(start.sub(currentTime))\n      return\n    }\n\n    // after last auction starts\n    if (currentTime.gte(start.sub(duration).add(fullCycle.mul(count)))) {\n      setNextAuctionIn(BigNumber.from(0))\n      return\n    }\n\n    // during auctions\n    if (remaining.lt(0)) {\n      setNextAuctionIn(BigNumber.from(0))\n    } else {\n      setNextAuctionIn(remaining)\n    }\n  }, [count, currentTime, distance, duration, start])\n\n  return nextAuctionIn\n}\n\nfunction useInAuctionNumber(currentTime, start, duration, distance, count) {\n  const [inAuctionNumber, setInAuctionNumber] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (duration.eq(0)) return\n    \n    const fullCycle = duration.add(distance)\n    const remaining = distance.sub(currentTime.sub(start).add(distance).mod(fullCycle))\n\n    // first auction hasn't started yet\n    if (currentTime.lt(start)) {\n      setInAuctionNumber(BigNumber.from(0))\n      return\n    }\n\n    // last auction is over\n    if (currentTime.gte(start.sub(duration).add(fullCycle.mul(count)))) {\n      setInAuctionNumber(BigNumber.from(0))\n      return\n    }\n\n    // in the auction cycle\n    if (remaining.gt(0)) {\n      setInAuctionNumber(BigNumber.from(0))\n    } else {\n      setInAuctionNumber(currentTime.sub(start).div(fullCycle).add(1))\n    }\n    \n  }, [count, currentTime, distance, duration, start])\n\n  return inAuctionNumber\n}\n\nexport {\n  useGenesisCats,\n  useAuctionsStart,\n  useAuctionsDuration,\n  useAuctionsDistance,\n  useAuctionsCount,\n  useAuctionsCatsPerAuction,\n  useAuctionsBidIncrement,\n  useCompletedAuctions,\n  useAuctionEndsIn,\n  useNextAuctionIn,\n  useInAuctionNumber,\n}\n","import { useState, useEffect } from 'react'\nimport { BigNumber } from 'ethers'\n\nfunction useRescueStartTime(doomCatRescue) {\n  const [rescueStartTime, setRescueStartTime] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.rescueStartTime()\n      .then(setRescueStartTime)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return rescueStartTime\n}\n\nfunction useTotalCats(doomCatRescue) {\n  const [totalCats, setTotalCats] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.totalCats()\n      .then(setTotalCats)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return totalCats\n}\n\nfunction useRemainingCats(doomCatRescue) {\n  const [remainingCats, setRemainingCats] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.remainingCats()\n      .then(setRemainingCats)\n      .catch(console.error)\n\n    function updateRemainingCats() {\n      setRemainingCats(remainingCats => remainingCats.sub(1))\n    }\n\n    doomCatRescue.on('Rescue', updateRemainingCats)\n\n    return () => {\n      doomCatRescue.removeListener('Rescue', updateRemainingCats)\n    }\n  }, [doomCatRescue])\n\n  return remainingCats\n}\n\nfunction useRescuePriceInitial(doomCatRescue) {\n  const [rescuePriceInitial, setRescuePriceInitial] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.rescuePriceInitial()\n      .then(setRescuePriceInitial)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return rescuePriceInitial\n}\n\nfunction useRescuePrice(doomCatRescue) {\n  const [rescuePrice, setRescuePrice] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    function updateRescuePrice() {\n      doomCatRescue.rescuePrice()\n        .then(setRescuePrice)\n        .catch(console.error)\n    }\n\n    updateRescuePrice()\n\n    doomCatRescue.on('Rescue', updateRescuePrice)\n\n    return () => {\n      doomCatRescue.removeListener('Rescue', updateRescuePrice)\n    }\n  }, [doomCatRescue])\n\n  return rescuePrice\n}\n\nfunction useRescuePriceIncrement(doomCatRescue) {\n  const [rescuePriceIncrement, setRescuePriceIncrement] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.rescuePriceIncrement()\n      .then(setRescuePriceIncrement)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return rescuePriceIncrement\n}\n\nfunction useRescueTrancheSize(doomCatRescue) {\n  const [rescueTrancheSize, setRescueTrancheSize] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.rescueTrancheSize()\n      .then(setRescueTrancheSize)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return rescueTrancheSize\n}\n\nfunction useRescuePriceFinal(doomCatRescue, totalCats, genesisCats, rescuePriceInitial, rescuePriceIncrement, rescueTrancheSize) {\n  const [rescuePriceFinal, setRescuePriceFinal] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue || !totalCats || !genesisCats || !rescuePriceInitial || !rescuePriceIncrement || !rescueTrancheSize || rescueTrancheSize.eq(0)) return\n\n    setRescuePriceFinal(rescuePriceInitial.add(totalCats.sub(genesisCats).div(rescueTrancheSize).mul(rescuePriceIncrement)))\n  }, [doomCatRescue, totalCats, genesisCats, rescuePriceInitial, rescuePriceIncrement, rescueTrancheSize])\n\n  return rescuePriceFinal\n}\n\nfunction useRescueRateLimit(doomCatRescue) {\n  const [rescueRateLimit, setRescueRateLimit] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.rescueRateLimit()\n      .then(setRescueRateLimit)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return rescueRateLimit\n}\n\nfunction useRescueLastBlock(doomCatRescue, account) {\n  const [rescueLastBlock, setRescueLastBlock] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue || !account) return\n\n    doomCatRescue.rescueLastBlock(account)\n      .then(setRescueLastBlock)\n      .catch(console.error)\n\n    function updateRescueLastBlock(_, __, ___, options) {\n      setRescueLastBlock(BigNumber.from(options.blockNumber))\n    }\n\n    const rescueLastBlockFilter = doomCatRescue.filters.Rescue(account, null, null)\n\n    doomCatRescue.on(rescueLastBlockFilter, updateRescueLastBlock)\n\n    return () => {\n      doomCatRescue.removeListener(rescueLastBlockFilter, updateRescueLastBlock)\n    }\n  }, [doomCatRescue, account])\n\n  return rescueLastBlock\n}\n\nexport {\n  useRescueStartTime,\n  useTotalCats,\n  useRemainingCats,\n  useRescuePriceInitial,\n  useRescuePrice,\n  useRescuePriceIncrement,\n  useRescueTrancheSize,\n  useRescuePriceFinal,\n  useRescueRateLimit,\n  useRescueLastBlock,\n}\n","import { useState, useEffect } from 'react'\nimport { BigNumber } from 'ethers'\n\nfunction useMyHateBalance(account, hate, blockNum) {\n  const [myHateBalance, setMyHateBalance] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!account || !hate) return\n\n    hate.balanceOf(account)\n      .then(setMyHateBalance)\n      .catch(console.error)\n  }, [account, hate, blockNum])\n\n  return myHateBalance\n}\n\nexport {\n  useMyHateBalance\n}\n","import { utils } from 'ethers'\nimport { Link } from 'react-router-dom'\nimport { useData } from '../dataContext'\nimport { useWeb3 } from '../web3'\nimport { connect } from '../web3/useProvider'\n\nconst Header = () => {\n  const { myEtherBalance, hateBalance } = useData()\n  const { account } = useWeb3()\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"bg-purple\">\n        <div className=\"container text-white py-6 flex flex-col sm:flex-row sm:justify-between lg:items-center\">\n          <div className=\"text-xl mb-6 sm:mb-0\">\n            <Link to=\"/\">DoomCatRescue</Link>\n          </div>\n          <div className=\"flex flex-col lg:flex-row text-right\">\n            <Link to=\"/auctions\" className=\"mb-2 lg:mb-0 lg:mr-4\">AUCTIONS</Link>\n            <div className=\"hidden lg:block lg:mr-4\">|</div>\n            <Link to=\"/doomcats\" className=\"mb-2 lg:mb-0 lg:mr-4\">DOOMCATS</Link>\n            <div className=\"hidden lg:block lg:mr-4\">|</div>\n            {account\n              ? <div>{account.substring(0, 8)}</div>\n              : <button className=\"hover:underline ml-auto\" onClick={() => connect()}>CONNECT</button>\n            }\n          </div>\n        </div>\n      </div>\n      <div className=\"container\">\n        {account && <div className=\"text-white text-sm pt-4 -mb-8 flex justify-end text-right\">\n          <div className=\"mr-6\">\n            <div>{parseFloat(utils.formatEther(myEtherBalance)).toFixed(4)} ETH  </div>\n          </div>\n          <div>\n            <div>{parseFloat(utils.formatEther(hateBalance)).toFixed(4)} HATE</div>\n          </div>\n        </div>}\n        <div className=\"my-16 flex flex-col\">\n          <h1 className=\"text-purple text-shadow text-xl sm:text-4xl md:text-5xl lg:text-6xl text-center mb-2\">DoomCatRescue</h1>\n          <div className=\"text-center text-white text-xs mt-2\">\n            <a href=\"https://discord.com/invite/P42tGfnh3z\" target=\"_blank\" rel=\"noreferrer\">Discord</a> | <a href=\"https://twitter.com/doom_cats\" target=\"_blank\" rel=\"noreferrer\">Twitter</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","function Footer() {\n  return (\n    <div className=\"container text-center py-8 -mt-4 text-white text-sm flex flex-col\">\n      <div className=\"mb-2\">\n        <a href=\"https://discord.com/invite/P42tGfnh3z\" target=\"_blank\" rel=\"noreferrer\">Join us on Discord!</a>\n      </div>\n      <div>\n        <a href=\"https://twitter.com/doom_cats\" target=\"_blank\" rel=\"noreferrer\">Follow us on Twitter!</a>\n      </div>\n    </div>\n  )\n}\n\nexport default Footer\n","const Jumbo = ({ children }) => {\n  return (\n    <div className=\"bg-white rounded-2xl mb-4 p-6 sm:p-12\">\n      {children}\n    </div>\n  )\n}\n\nexport default Jumbo\n","function useTimeSplitter(seconds) {\n  const zeroPad = (num) => String(num).padStart(2, '0')\n\n  const d = zeroPad(Math.floor(seconds / (3600 * 24)))\n  const h = zeroPad(Math.floor(seconds % (3600 * 24) / 3600))\n  const m = zeroPad(Math.floor(seconds % 3600 / 60))\n  const s = zeroPad(Math.floor(seconds % 60))\n\n  return ({ d, h, m, s })\n}\n\nexport { useTimeSplitter }\n","import { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { utils } from 'ethers'\nimport { useData } from '../dataContext'\nimport Jumbo from '../components/Jumbo'\nimport { useWeb3 } from '../web3'\nimport { useTransaction } from '../dataContext/transactions'\nimport { useTimeSplitter } from '../utils/time'\n\nconst Rescue = () => {\n  const {\n    doomCatContract,\n    currentTime,\n    rescueStartTime,\n    remainingCats,\n    rescuePrice,\n    rescueRateLimit, currentBlock, rescueLastBlock,\n  } = useData()\n  const { account } = useWeb3()\n  const { contractCall, pending } = useTransaction()\n  const history = useHistory();\n\n  const [buttonDisabled, setButtonDisabled] = useState(true)\n  useEffect(() => {\n    setButtonDisabled(\n      !(\n        !pending &&\n        account &&\n        currentTime.gte(rescueStartTime) &&\n        currentBlock.gte(rescueLastBlock.add(rescueRateLimit))\n      )\n    )\n  }, [account, currentBlock, currentTime, pending, rescueLastBlock, rescueRateLimit, rescueStartTime])\n\n  const rescue = () => {\n    contractCall(\n      doomCatContract.rescue, [{ value: rescuePrice }],\n      \"ASCENDING DOOMCAT\", \"ASCENSION FAILED\", \"ASCENSION SUCCESSFUL\", () => history.push(\"/doomcats\")\n    )\n  }\n\n  const { d, h, m, s } = useTimeSplitter(rescueStartTime.sub(currentTime))\n\n  return (\n    <Jumbo>\n      <div className=\"text-center\">\n        <h4>DoomCats Remaining: {remainingCats.toString()}</h4>\n        {currentTime.lt(rescueStartTime) && <div><h4 className=\"mt-4 uppercase\">\n          DoomCat Ascension begins in\n        </h4><h3>{d} days {h} hours {m} minutes {s} seconds</h3></div>}\n        {remainingCats.gt(0) &&\n          <div className=\"mt-4\">\n            <h4 className=\"mb-4\">Price: {parseFloat(utils.formatEther(rescuePrice.toString())).toFixed(5)} ETH</h4>\n            <button disabled={buttonDisabled} onClick={rescue} className=\"bg-purple text-white px-4 py-2 shadow-lg disabled:cursor-not-allowed disabled:opacity-30\">\n              RESCUE\n            </button>\n          </div>\n        }\n      </div>\n    </Jumbo>\n  )\n}\n\nexport default Rescue\n","import { useState, useCallback } from 'react'\nimport { toast } from 'react-toastify'\n\nconst useTransaction = () => {\n  const [pending, setPending] = useState(false)\n\n  const contractCall = useCallback(\n    (contractFn, parameters, pendingMessage, failedMessage, successMessage, successCallback, completedCallback) => {\n      setPending(true)\n      let toastId\n      contractFn(...parameters)\n        .then(txResponse => {\n          toastId = toast(pendingMessage, {\n            autoClose: false,\n            closeOnClick: false,\n            draggable: false\n          })\n          return Promise.all([txResponse.wait(), toastId])\n        })\n        .then(([txReceipt, toastId]) => {\n          setPending(false)\n          toast.dismiss(toastId)\n          if (txReceipt.status === 0) {\n            toast.error(failedMessage)\n          } else if (txReceipt.status === 1) {\n            toast.success(successMessage)\n            if (successCallback) successCallback()\n          } else {\n            toast.error(\"TRANSACTION FAILED OR SOMETHING\")\n          }\n          if (completedCallback) completedCallback()\n        })\n        .catch(error => {\n          console.error(error)\n          setPending(false)\n          toast.dismiss(toastId)\n          toast.error(\"YOU BROKE IT\")\n        })\n    }, [])\n\n  return { contractCall, pending }\n}\n\nexport { useTransaction }\n","import { utils } from 'ethers'\nimport Jumbo from '../components/Jumbo'\nimport Rescue from '../components/Rescue'\nimport { useData } from '../dataContext'\n\nconst Paragraph = ({ children }) => {\n  return (\n    <div className=\"mb-8\">\n      {children}\n    </div>\n  )\n}\n\nconst Home = () => {\n  const {\n    totalCats, genesisCats,\n    auctionsCount, catsPerAuction, auctionsBidIncrement,\n    rescueStartTime, rescuePriceInitial, rescuePriceIncrement, rescueTrancheSize, rescuePriceFinal,\n  } = useData()\n\n  const startDate = new Date(rescueStartTime.toNumber()* 1000)\n\n  return (\n    <div>\n      <div>\n        <Rescue />\n        <Jumbo>\n          <div className=\"mb-8 text-center text-xl\">RED ALERT</div>\n          <Paragraph>\n            Crew Member,\n          </Paragraph>\n          <Paragraph>\n            Congratulations on your ascension.\n          </Paragraph>\n          <Paragraph>\n            Now, you must save the DoomCats.\n          </Paragraph>\n          <Paragraph>\n            There are {totalCats.toString()} DoomCats trapped down on Earth unable to reach the next plane of existence.\n          </Paragraph>\n\n          <div className=\"mb-8 text-xl\">How can I rescue the DoomCats?</div>\n          <Paragraph>\n            On {startDate.toLocaleDateString()} at {startDate.toLocaleTimeString()}, transportation for the DoomCat souls will be possible through an affordable, linear bonding curve starting at {utils.formatEther(rescuePriceInitial)} ETH, increasing by {utils.formatEther(rescuePriceIncrement)} ETH every {rescueTrancheSize.toNumber()} cats sold, to a cap of {utils.formatEther(rescuePriceFinal)} ETH.\n          </Paragraph>\n          <Paragraph>\n            Hitting the RESCUE button will open MetaMask, allowing you to start the process of saving your DoomCats soul.\n          </Paragraph>\n\n          <div className=\"mb-8 text-xl\">What happens when I rescue a DoomCat?</div>\n          <Paragraph>\n            Once ascended, you receive an NFT of the DoomCats soulan ERC-721 token. Each token is a unique 24x24 image varying in pose, direction, or color.\n          </Paragraph>\n          <Paragraph>\n            94% of the DoomCats are strays, grateful to have their ethereal selves elevated to cosmic travel.\n          </Paragraph>\n          <Paragraph>\n            The highest ascended catsthe 6% of most spiritually evolved Cats are given unique breeds (Glowie, Alien, Zombie, Nuke, Hate, or Smokey).\n          </Paragraph>\n          <Paragraph>\n            5% of DoomCats have a chance for their journey to be backdropped with a special background, including: Desert, Beach, Windows, Matrix, or Heaven.\n          </Paragraph>\n          <Paragraph>\n            2% of DoomCats brought their favorite item to ease the graduation process: items include: googles, ciggies, or one of five colored party hats. Party hat colors include: red, blue, yellow, purple, or white.\n          </Paragraph>\n          <Paragraph>\n            There are 39 purple-draped cats in honor of the first 39 ascended Members. Additionally, the oldest 0.1% of souls will be completely black and white, the Genesis DoomCats\n          </Paragraph>\n\n          <div className=\"mb-8 text-xl\">How are Genesis DoomCats rescued?</div>\n          <Paragraph>\n            The {genesisCats.toString()} Genesis DoomCats will be distributed in a fully unique way {auctionsCount.toString()} total weekly auctions with {catsPerAuction.toString()} Genesis DoomCats auctioned every week. Auctions start at {parseFloat(utils.formatEther(auctionsBidIncrement.toString())).toFixed(2)} ETH per cat. That means no bots front-running, no dev allocation, no other way to claim a Genesis DoomCat than win with the highest bid.\n          </Paragraph>\n          <Paragraph>\n            This distribution mechanic is the first of its kind, unlike any other in the Universe.\n          </Paragraph>\n          \n          <div className=\"mb-8 text-xl\">What happens to the funds used for DoomCat Rescue?</div>\n          <Paragraph>\n            ETH from the initial distribution, and the {auctionsCount.toNumber()} auctions, will be added to the HATE Uniswap LP and burned to the next plane of spiritual existence.\n          </Paragraph>\n\n          <div className=\"mb-8 text-xl\">Can I interact with my DoomCat?</div>\n          <Paragraph>\n            DoomCat Rescue allows users to spend HATE to name their DoomCats.\n          </Paragraph>\n\n          <hr className=\"mb-8\" />\n          <Paragraph>\n            The Present Representative,<br />\n            &nbsp;&nbsp;&nbsp;&nbsp;Marshall Applewhite\n          </Paragraph>\n        </Jumbo>\n      </div>\n    </div>\n  )\n}\n\nexport default Home\n","import Jumbo from \"../components/Jumbo\"\nimport { useData } from '../dataContext'\nimport { useTimeSplitter } from '../utils/time'\n\nconst Auctions = () => {\n  const { currentTime, auctionsStart } = useData()\n  const { d, h, m, s } = useTimeSplitter(auctionsStart.sub(currentTime))\n\n  return (\n    <Jumbo>\n      <div className=\"text-center mb-8\">\n        <div className=\"uppercase\">genesis doomcat auctions begin in</div>\n        <div>{d} days {h} hours {m} minutes {s} seconds</div>\n      </div>\n    </Jumbo>\n  )\n}\n\nexport default Auctions\n","import { useData } from '../dataContext'\nimport { useCatInfo } from '../dataContext/cats'\n\nconst Container = ({ children }) => {\n  return (\n    <div className=\"transition duration-500 ease-in-out transform hover:scale-110\">\n      {children}\n    </div>\n  )\n}\n\nconst LoadingError = ({ children, catId }) => {\n  return (\n    <div className=\"h-full text-center\">\n      <div>DoomCat #{catId.toString()}</div>\n      <div className=\"flex flex-col justify-center h-full\">{children}</div>\n    </div>\n  )\n}\n\nconst DoomCat = ({ tokenId }) => {\n  const { doomCatContract } = useData()\n  const [catInfo, error] = useCatInfo(doomCatContract, tokenId)\n\n  if (error) {\n    return (\n      <Container>\n        <LoadingError catId={tokenId}>\n          <div>Error: {error.message}</div>\n        </LoadingError>\n      </Container>\n    )\n  } else if (catInfo) {\n    return (\n      <Container>\n        <div className=\"text-center\">{catInfo.name}</div>\n        <img width=\"100%\" src={catInfo.image} alt={catInfo.name} />\n        <div className=\"text-xs mt-2\">\n          <div>ID: {catInfo.id}</div>\n          {catInfo.attributes.map((a, i) => {\n            return (\n              <div key={i}>{a.trait_type}: {a.value}</div>\n            )\n          })}\n        </div>\n      </Container>\n    )\n  } else {\n    return (\n      <Container>\n        <LoadingError catId={tokenId}>\n          <div>Loading...</div>\n        </LoadingError>\n      </Container>\n    )\n  }\n}\n\nexport default DoomCat\n","import Jumbo from \"../components/Jumbo\"\nimport DoomCat from '../components/DoomCat'\nimport { useData } from '../dataContext'\n\nconst DoomCats = () => {\n  const {\n    catBalance,\n    catIdsOfOwnerByIndexes\n  } = useData()\n\n  return (\n    <Jumbo>\n      <div className=\"mb-8 text-center text-xl\">You own {catBalance.toString()} DoomCats</div>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-20\">\n        {catIdsOfOwnerByIndexes.map((catId, index) => {\n          return (\n            <DoomCat tokenId={catId} key={index} />\n          )\n        })}\n      </div>\n    </Jumbo>\n  )\n}\n\nexport default DoomCats\n","import { ToastContainer } from 'react-toastify'\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Home from './pages/Home'\nimport Auctions from './pages/Auctions'\nimport DoomCats from './pages/DoomCats'\nimport { Web3Provider } from './web3'\nimport { DataProvider } from './dataContext'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n} from 'react-router-dom';\n\nfunction App() {\n  return (\n    <Web3Provider>\n      <DataProvider>\n        <Router>\n          <div className=\"min-h-screen flex flex-col justify-between\">\n            <div>\n              <Header />\n              <div className=\"container\">\n                <Switch>\n                  <Route path=\"/auctions\" component={Auctions} />\n                  <Route path=\"/doomcats\" component={DoomCats} />\n                  <Route path=\"/\" component={Home} />\n                </Switch>\n              </div>\n            </div>\n            <Footer />\n          </div>\n        </Router>\n        <ToastContainer\n          closeButton={false}\n          position=\"bottom-right\"\n          newestOnTop={false}\n        />\n      </DataProvider>\n    </Web3Provider>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}