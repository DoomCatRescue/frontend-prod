{"version":3,"sources":["web3/chains.js","web3/useProvider.js","web3/useListeners.js","web3/index.js","dataContext/contracts.js","dataContext/index.js","dataContext/cats.js","dataContext/time.js","dataContext/balance.js","dataContext/ens.js","dataContext/auctions.js","dataContext/rescue.js","dataContext/hatebalance.js","dataContext/openSea.js","components/header.js","components/footer.js","components/Jumbo.js","dataContext/transactions.js","utils/time.js","components/Rescue.js","pages/Home.js","components/OpenSeaMessageAccount.js","pages/DoomCatDetails.js","components/DoomCatAuctionCard.js","pages/Auctions.js","components/AuctionInputs.js","components/AuctionDetails.js","pages/AuctionCatDetails.js","components/DoomCatCard.js","pages/Ascended.js","pages/Gallery.js","pages/OpenSeaApproval.js","App.js","index.js"],"names":["supportedChains","parseInt","process","providerOptions","walletconnect","package","WalletConnectProvider","options","infuraId","web3Modal","Web3Modal","cacheProvider","theme","defaultName","defaultWeb3","name","account","chainId","provider","signerOrProvider","makeInjectedProvider","web3Provider","selectedAddress","accounts","getSigner","useProvider","useState","setWeb3Provider","reloadedProvider","myProvider","setMyProvider","useEffect","on","includes","ethers","providers","Web3Provider","toast","toastId","clearCachedProvider","off","window","location","reload","length","removeAllListeners","useListeners","cachedProvider","Promise","resolve","reject","connect","then","userSuppliedProvider","catch","console","error","providerKeys","defaultProvider","getDefaultProvider","network","getFallbackProvider","a","context","createContext","displayName","Provider","children","value","createWeb3Root","useWeb3","useContext","useDoomCatContract","addresses","doomCatContract","setDoomCatContract","Contract","doomCatRescue","DoomCatRescue","fetchRetry","FetchRetry","fetch","useCatBalance","address","BigNumber","from","catBalance","setCatBalance","utils","isAddress","getCatBalance","transferCatInFilter","filters","Transfer","transferCatOutFilter","increaseCatBalance","decreaseCatBalance","removeListener","balanceOf","useTokenURI","tokenId","tokenURI","setTokenURI","eq","toString","useCatInfo","existingCatInfo","setError","catInfo","setCatInfo","retries","retryDelay","retryOn","response","ok","json","result","catNames","_name","isNamed","id","toNumber","Error","updateName","_","catId","useAuctionCatInfo","classicalCatInfo","classicalError","bidCount","highBidAmount","highBidOwner","constants","AddressZero","bidByAddress","all","bidsByTokenByAddress","loaded","updateCatAuction","toLowerCase","updateWithdrawLowBid","lowBidOwner","amount","useCatOwner","owner","setOwner","ownerOf","updateOwner","newOwner","DataProvider","setAddresses","useAddresses","hateContract","setHateContract","HATE","tokenAddress","ERC20","useHateContract","currentBlock","setCurrentBlock","getBlockNumber","blockNumber","useCurrentBlock","currentTime","Math","floor","Date","now","setCurrentTime","getBlock","block","timestamp","timer","setInterval","add","clearInterval","useCurrentTime","myEtherBalance","setMyEtherBalance","getBalance","balance","useMyEtherBalance","myEns","setMyEns","lookupAddress","useMyEns","genesisCats","setGenesisCats","useGenesisCats","auctionsStart","setAuctionsStart","useAuctionsStart","auctionsDuration","setAuctionsDuration","useAuctionsDuration","auctionsDistance","setAuctionsDistance","useAuctionsDistance","auctionsCount","setAuctionsCount","useAuctionsCount","catsPerAuction","setCatsPerAuction","auctionsCatsPerAuction","useAuctionsCatsPerAuction","auctionsBidIncrement","bidIncrement","setBidIncrement","useAuctionsBidIncrement","completedAuctions","start","duration","distance","count","setCompletedAuctions","endOfFirst","fullCycle","lt","gte","mul","sub","div","useCompletedAuctions","auctionEndsIn","setAuctionEndsIn","remaining","mod","useAuctionEndsIn","nextAuctionIn","setNextAuctionIn","useNextAuctionIn","inAuctionNumber","setInAuctionNumber","gt","useInAuctionNumber","rescueStartTime","setRescueStartTime","useRescueStartTime","totalCats","setTotalCats","useTotalCats","remainingCats","setRemainingCats","getRemainingCats","updateRemainingCats","useRemainingCats","rescuePriceInitial","setRescuePriceInitial","useRescuePriceInitial","rescuePrice","setRescuePrice","updateRescuePrice","useRescuePrice","rescuePriceIncrement","setRescuePriceIncrement","useRescuePriceIncrement","rescueTrancheSize","setRescueTrancheSize","useRescueTrancheSize","rescuePriceFinal","setRescuePriceFinal","useRescuePriceFinal","rescueRateLimit","setRescueRateLimit","useRescueRateLimit","rescueLastBlock","setRescueLastBlock","rescueLastBlockFilter","Rescue","updateRescueLastBlock","__","___","useRescueLastBlock","hateBalance","hate","blockNum","myHateBalance","setMyHateBalance","useMyHateBalance","nameChangePrice","setNameChangePrice","useNameChangePrice","hateAllowance","allowance","setAllowance","useHateAllowance","doomCatContractWithoutSigner","myCatBalance","openSeaProxyRegistryContract","setOpenSeaProxyRegistryContract","proxyRegistryAddress","proxyAddress","OpenSeaProxyABI","useOpenSeaProxyRegistryContract","openSeaProxyAddress","proxyRegistry","setOpenSeaProxyAddress","proxies","useOpenSeaProxyAddress","openSeaApproved","setOpenSeaAppproved","tokenOfOwnerByIndex","callStatic","transferFrom","useOpenSeaApproved","showOpenSeaMessage","setShowOpenSeaMessage","useShowOpenSeaMessage","dataContext","createDataRoot","useData","Header","userName","setUserName","split","toUpperCase","substring","className","to","onClick","parseFloat","formatEther","toFixed","href","target","rel","Footer","Jumbo","useTransaction","pending","setPending","contractCall","useCallback","contractFn","parameters","pendingMessage","failedMessage","successMessage","successCallback","completedCallback","txResponse","autoClose","closeOnClick","draggable","wait","txReceipt","dismiss","status","success","useTimeSplitter","seconds","zeroPad","num","String","padStart","d","h","m","s","ProgressBar","totalRescuable","setTotalRescuable","rescuedCount","setRescuedCount","percentageRescued","setPercentageRescued","trunc","style","width","history","useHistory","buttonDisabled","setButtonDisabled","localRemainingCats","setLocalRemainingCats","disabled","rescue","gasLimit","receipt","push","events","args","Paragraph","Home","startDate","localTotalCats","setLocalTotalCats","localGenesisCats","setLocalGenesisCats","toLocaleDateString","toLocaleTimeString","OpenSeaMessageAccount","accountCompare","showOpenSeaMessageAccount","setShowOpenSeaMessageAccount","LoadingError","Rename","callData","setCallData","buttonText","setButtonText","setName","approve","MaxUint256","nameCat","onSubmit","e","preventDefault","type","onChange","DoomCatDetails","useParams","setCatId","useLocation","state","isNaN","canName","setCanName","message","src","image","retry","delay","alt","attributes","map","i","trait_type","Container","DoomCatAuctionCard","catLoadedCallback","over","myTopBid","setMyTopBid","myWinningBid","setMyWinningBid","myLowBid","setMyLowBid","pathname","NextAuctionIn","AuctionsAreOver","CurrentAuction","catIds","setCatIds","Array","keys","CompletedAuction","auctionNumber","loadedCallback","catsLoaded","setCatsLoaded","CompletedAuctions","auctionsOnScreen","setAuctionsOnScreen","auctionsSectionsToShow","setAuctionsSectionsToShow","auctionsSections","setAuctionsSections","auctionsLoaded","setAuctionsLoaded","bottomBoundaryRef","useRef","observer","IntersectionObserver","entries","forEach","en","intersectionRatio","current","observe","unobserveRef","unobserve","auctionIndex","auctionId","currentSectionsIds","section","key","newSections","filter","sort","b","Number","ref","Auctions","Bid","bidAmount","setBidAmount","minBidAmount","setMinBidAmount","bidAmountBigNumber","setBidAmountBigNumber","parseEther","bid","step","min","placeholder","decimals","Withdraw","withdrawLowBid","Claim","claimWinningBid","AuctionInputs","inAuction","canBid","setCanBid","canWithdraw","setCanWithdraw","canClaim","setCanClaim","AuctionDetails","AuctionCatDetails","isInAuction","setIsInAuction","DoomCatCard","Ascended","catsPerPage","catsOnScreen","setCatsOnScreen","scrollObserver","node","intObs","catIdsToShow","setCatIdsToShow","catIndex","catCards","setCatCards","currentCardIds","card","newCards","Gallery","addressParam","tokenIds","useTokensOfOwnerByIndexes","show","completed","instructions","buttonClick","done","Account","setCompleted","NeedACat","setShow","Proxy","registerProxy","Approved","setApprovalForAll","Congrats","OpenSeaApproval","App","path","component","closeButton","position","newestOnTop","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b670c0de.chunk.js","sourcesContent":["import { useState, useEffect } from 'react'\n\nconst supportedChains = () => {\n  const dev = process.env.NODE_ENV !== 'production' ? [parseInt(process.env.REACT_APP_LOCAL_CHAIN_ID, 10)] : []\n  return [...dev, parseInt(process.env.REACT_APP_CHAIN_ID, 10)]\n}\n\nconst useAddresses = chainId => {\n  const [addresses, setAddresses] = useState()\n\n  useEffect(() => {\n    if (chainId === parseInt(process.env.REACT_APP_LOCAL_CHAIN_ID, 10)) {\n      setAddresses({\n        doomCatRescue: process.env.REACT_APP_LOCAL_DOOMCAT_ADDRESS,\n      })\n    } else if (chainId === parseInt(process.env.REACT_APP_CHAIN_ID, 10)) {\n      setAddresses({\n        doomCatRescue: process.env.REACT_APP_DOOMCAT_ADDRESS,\n      })\n    }\n  }, [chainId])\n\n  return addresses\n}\n\nexport {\n  supportedChains,\n  useAddresses\n}\n","import { useEffect, useState } from 'react'\nimport { ethers, getDefaultProvider } from 'ethers'\nimport Web3Modal from 'web3modal'\nimport WalletConnectProvider from '@walletconnect/web3-provider'\nimport { supportedChains } from './chains'\nimport { useListeners } from './useListeners'\n\nconst providerOptions = {\n  walletconnect: {\n    package: WalletConnectProvider,\n    options: {\n      infuraId: process.env.REACT_APP_WALLETCONNECT_INFURA_API_KEY,\n    },\n  },\n}\n\nconst web3Modal = new Web3Modal({\n  providerOptions,\n  cacheProvider: true,\n  theme: 'dark'\n})\n\nconst defaultName = 'not connected'\nconst defaultWeb3 = {\n  name: defaultName,\n  account: false,\n  chainId: null,\n  provider: null,\n  signerOrProvider: null,\n}\n\nfunction makeInjectedProvider(web3Provider) {\n  return {\n    name: 'injected provider',\n    account: web3Provider.provider.selectedAddress || web3Provider.provider.accounts[0],\n    chainId: parseInt(web3Provider.provider.chainId),\n    provider: web3Provider,\n    signerOrProvider: web3Provider.getSigner(),\n  }\n}\n\nfunction getInjectedProvider(web3Modal) {\n  return new Promise((resolve, reject) => {\n    web3Modal.connect().then(userSuppliedProvider => {\n      const web3Provider = new ethers.providers.Web3Provider(userSuppliedProvider)\n      resolve(makeInjectedProvider(web3Provider))\n    }).catch(reject)\n  })\n}\n\nfunction getLocalProvider() {\n  const localProvider = new ethers.providers.JsonRpcProvider(process.env.REACT_APP_LOCAL_PROVIDER_URL)\n  return new Promise((resolve, reject) => {\n    localProvider.detectNetwork().then(network => {\n      resolve({\n        name: 'local provider',\n        account: false,\n        chainId: network.chainId,\n        provider: localProvider,\n        signerOrProvider: localProvider,\n      })\n    }).catch(reject)\n  })\n}\n\nfunction getFallbackProvider() {\n  const providerKeys = {}\n  if (process.env.REACT_APP_INFURA_API_KEY) providerKeys.infura = process.env.REACT_APP_INFURA_API_KEY\n  if (process.env.REACT_APP_ALCHEMY_API_KEY) providerKeys.alchemy = process.env.REACT_APP_ALCHEMY_API_KEY\n  if (process.env.REACT_APP_ETHERSCAN_API_KEY) providerKeys.etherscan = process.env.REACT_APP_ETHERSCAN_API_KEY\n\n  const defaultProvider = getDefaultProvider(parseInt(process.env.REACT_APP_CHAIN_ID, 10), providerKeys)\n\n  return {\n    name: 'fallback provider',\n    account: false,\n    chainId: defaultProvider.network.chainId,\n    provider: defaultProvider,\n    signerOrProvider: defaultProvider,\n  }\n}\n\nfunction useProvider() {\n  const [web3Provider, setWeb3Provider] = useState(defaultWeb3)\n\n  const reloadedProvider = useListeners(web3Provider.provider?.provider, web3Modal)\n  useEffect(() => {\n    if (!reloadedProvider) {\n      setWeb3Provider(defaultWeb3)\n    } else {\n      setWeb3Provider(makeInjectedProvider(reloadedProvider))\n    }\n  }, [reloadedProvider])\n\n  useEffect(() => {\n    if (web3Provider.name !== defaultName) return\n\n    if (web3Modal.cachedProvider || (web3Provider.signerOrProvider && supportedChains().includes(parseInt(web3Provider.signerOrProvider.chainId)))) {\n      getInjectedProvider(web3Modal)\n        .then(setWeb3Provider)\n        .catch(console.error)\n    } else if (process.env.NODE_ENV === 'development') {\n      getLocalProvider()\n        .then(setWeb3Provider)\n        .catch(() => setWeb3Provider(getFallbackProvider()))\n    } else {\n      setWeb3Provider(getFallbackProvider())\n    }\n  }, [web3Provider.name, web3Provider.signerOrProvider])\n\n  return web3Provider\n}\n\nasync function connect() {\n  await web3Modal.connect()\n}\n\nexport { useProvider, connect }\n","import { useState, useEffect } from 'react'\nimport { ethers } from 'ethers'\nimport { toast } from 'react-toastify'\nimport { supportedChains } from './chains'\n\nfunction useListeners(provider, web3Modal) {\n  const [myProvider, setMyProvider] = useState(null)\n\n  useEffect(() => {\n    // subscribe to connect events\n    web3Modal.on('connect', provider => {\n      if (!supportedChains().includes(parseInt(provider.chainId))) {\n        toast('Switch to a supported network', { toastId: 'switchNetwork' })\n        web3Modal.clearCachedProvider()\n        setMyProvider(null)\n      } else {\n        const web3Provider = new ethers.providers.Web3Provider(provider)\n        setMyProvider(web3Provider)\n        toast('Connected', { toastId: 'connected' })\n      }\n    })\n\n    return () => {\n      web3Modal.off('connect')\n    }\n  }, [web3Modal])\n\n  useEffect(() => {\n    if (!provider) return\n\n    // subscribe to Network events\n    provider.on('chainChanged', chainId => {\n      if (!supportedChains().includes(parseInt(chainId))) {\n        toast('Switch to a supported network', { toastId: 'switchNetwork' })\n        web3Modal.clearCachedProvider()\n        setMyProvider(null)\n      } else {\n        window.location.reload()\n      }\n    })\n\n    // subscribe to account change events\n    provider.on('accountsChanged', accounts => {\n      if (accounts.length === 0) {\n        toast('Account disconnected', { toastId: 'disconnected' })\n        web3Modal.clearCachedProvider()\n        setMyProvider(null)\n      } else {\n        toast('Account changed', { toastId: 'connected' })\n        setMyProvider(null)\n      }\n    })\n\n    // subscribe to provider disconnection\n    provider.on('disconnect', () => {\n      toast('Account disconnected', { toastId: 'disconnected' })\n      web3Modal.clearCachedProvider()\n      setMyProvider(null)\n    })\n\n    // unsubscribe\n    return () => {\n      provider.removeAllListeners()\n    }\n  }, [provider, web3Modal])\n\n  return myProvider\n}\n\nexport { useListeners }\n","import { createContext, useContext } from 'react'\nimport { useProvider } from './useProvider.js'\n\nlet context\n\nfunction createWeb3Root() {\n  context = createContext()\n\n  context.displayName = 'Web3 Provider'\n  const Provider = context.Provider\n\n  return function ({ children }) {\n    const web3Provider = useProvider()\n\n    return (\n      <Provider value={web3Provider}>\n        {children}\n      </Provider>\n    )\n  }\n}\n\nconst Web3Provider = createWeb3Root()\n\nfunction useWeb3() {\n  return useContext(context)\n}\n\nexport { Web3Provider, useWeb3 }\n","import { useState, useEffect } from 'react'\nimport { Contract } from 'ethers'\nimport DoomCatRescue from '../abis/DoomCatRescue.json'\nimport ERC20 from '../abis/ERC20.json'\nimport OpenSeaProxyABI from '../abis/OpenSeaProxyRegistry.json'\n\nconst useDoomCatContract = (provider, addresses) => {\n  const [doomCatContract, setDoomCatContract] = useState(null)\n\n  useEffect(() => {\n    if (!provider || !addresses) return\n\n    setDoomCatContract(new Contract(addresses.doomCatRescue, DoomCatRescue, provider))\n  }, [addresses, provider])\n\n  return doomCatContract\n}\n\nconst useHateContract = (provider, doomCatRescue) => {\n  const [hateContract, setHateContract] = useState(null)\n\n  useEffect(() => {\n    if (!provider || !doomCatRescue) return\n\n    doomCatRescue.HATE()\n      .then(tokenAddress => {\n        setHateContract(new Contract(tokenAddress, ERC20, provider))\n      }).catch(console.error);\n  }, [doomCatRescue, provider])\n\n  return hateContract\n}\n\nconst useOpenSeaProxyRegistryContract = (provider, doomCatRescue) => {\n  const [openSeaProxyRegistryContract, setOpenSeaProxyRegistryContract] = useState(null)\n\n  useEffect(() => {\n    if (!provider || !doomCatRescue) return\n\n    doomCatRescue.proxyRegistryAddress()\n      .then(proxyAddress => {\n        setOpenSeaProxyRegistryContract(new Contract(proxyAddress, OpenSeaProxyABI, provider))\n      })\n      .catch(console.error)\n  }, [doomCatRescue, provider])\n\n  return openSeaProxyRegistryContract\n}\n\nexport {\n  useDoomCatContract,\n  useHateContract,\n  useOpenSeaProxyRegistryContract\n}\n","import { createContext, useContext } from 'react'\nimport { useWeb3 } from '../web3'\nimport { useAddresses } from '../web3/chains'\n\nimport {\n   useDoomCatContract,\n   useHateContract,\n   useOpenSeaProxyRegistryContract,\n} from './contracts'\n\nimport {\n  useCurrentBlock,\n  useCurrentTime,\n} from './time'\n\nimport {\n  useMyEtherBalance\n} from './balance'\n\nimport {\n  useGenesisCats,\n  useAuctionsStart,\n  useAuctionsDuration,\n  useAuctionsDistance,\n  useAuctionsCount,\n  useAuctionsCatsPerAuction,\n  useAuctionsBidIncrement,\n  useCompletedAuctions,\n  useAuctionEndsIn,\n  useNextAuctionIn,\n  useInAuctionNumber,\n} from './auctions'\n\nimport {\n  useRescueStartTime,\n  useTotalCats,\n  useRemainingCats,\n  useRescuePriceInitial,\n  useRescuePrice,\n  useRescuePriceIncrement,\n  useRescueTrancheSize,\n  useRescuePriceFinal,\n  useRescueRateLimit,\n  useRescueLastBlock,\n} from './rescue'\n\nimport {\n  useMyHateBalance,\n  useNameChangePrice,\n  useHateAllowance,\n} from './hatebalance'\n\nimport {\n  useMyEns,\n} from './ens'\n\nimport {\n  useCatBalance\n} from '../dataContext/cats'\n\nimport {\n  useOpenSeaProxyAddress,\n  useOpenSeaApproved,\n  useShowOpenSeaMessage,\n} from './openSea'\n\nlet context\n\nconst createDataRoot = () => {\n  context = createContext()\n\n  context.displayName = 'Data Provider'\n  const Provider = context.Provider\n\n  return ({ children }) => {\n    const { account, chainId, signerOrProvider, provider } = useWeb3()\n    const addresses = useAddresses(chainId)\n\n    const doomCatContract = useDoomCatContract(signerOrProvider, addresses)\n    const hateContract = useHateContract(signerOrProvider, doomCatContract)\n\n    const currentBlock = useCurrentBlock()\n    const currentTime = useCurrentTime(currentBlock)\n\n    const myEtherBalance = useMyEtherBalance(account, currentBlock)\n    const myEns = useMyEns(account, provider, currentBlock, chainId)\n\n    const genesisCats = useGenesisCats(doomCatContract)\n    const auctionsStart = useAuctionsStart(doomCatContract)\n    const auctionsDuration = useAuctionsDuration(doomCatContract)\n    const auctionsDistance = useAuctionsDistance(doomCatContract)\n    const auctionsCount = useAuctionsCount(doomCatContract)\n    const catsPerAuction = useAuctionsCatsPerAuction(doomCatContract)\n    const auctionsBidIncrement = useAuctionsBidIncrement(doomCatContract)\n    const completedAuctions = useCompletedAuctions(currentTime, auctionsStart, auctionsDuration, auctionsDistance, auctionsCount)\n    const auctionEndsIn = useAuctionEndsIn(currentTime, auctionsStart, auctionsDuration, auctionsDistance, auctionsCount)\n    const nextAuctionIn = useNextAuctionIn(currentTime, auctionsStart, auctionsDuration, auctionsDistance, auctionsCount)\n    const inAuctionNumber = useInAuctionNumber(currentTime, auctionsStart, auctionsDuration, auctionsDistance, auctionsCount)\n\n    const rescueStartTime = useRescueStartTime(doomCatContract)\n    const totalCats = useTotalCats(doomCatContract)\n    const remainingCats = useRemainingCats(doomCatContract)\n    const rescuePriceInitial = useRescuePriceInitial(doomCatContract)\n    const rescuePrice = useRescuePrice(doomCatContract)\n    const rescuePriceIncrement = useRescuePriceIncrement(doomCatContract)\n    const rescueTrancheSize = useRescueTrancheSize(doomCatContract)\n    const rescuePriceFinal = useRescuePriceFinal(doomCatContract, totalCats, genesisCats, rescuePriceInitial, rescuePriceIncrement, rescueTrancheSize)\n    const rescueRateLimit = useRescueRateLimit(doomCatContract)\n    const rescueLastBlock = useRescueLastBlock(doomCatContract, account)\n\n    const hateBalance = useMyHateBalance(account, hateContract, currentBlock)\n    const nameChangePrice = useNameChangePrice(doomCatContract)\n    const hateAllowance = useHateAllowance(doomCatContract, hateContract, account, currentBlock)\n\n    const doomCatContractWithoutSigner = useDoomCatContract(provider, addresses)\n    const myCatBalance = useCatBalance(doomCatContract, account)\n    const openSeaProxyRegistryContract = useOpenSeaProxyRegistryContract(signerOrProvider, doomCatContract)\n    const openSeaProxyAddress = useOpenSeaProxyAddress(openSeaProxyRegistryContract, account, currentBlock)\n    const openSeaApproved = useOpenSeaApproved(doomCatContractWithoutSigner, account, myCatBalance, openSeaProxyAddress, currentBlock)\n    const showOpenSeaMessage = useShowOpenSeaMessage(account, myCatBalance, openSeaApproved)\n\n    const dataContext = {\n      doomCatContract,\n      hateContract,\n\n      currentBlock,\n      currentTime,\n\n      myEtherBalance,\n      myEns,\n\n      myCatBalance,\n\n      genesisCats,\n      auctionsStart,\n      auctionsDuration,\n      auctionsDistance,\n      auctionsCount,\n      catsPerAuction,\n      auctionsBidIncrement,\n      completedAuctions,\n      auctionEndsIn,\n      nextAuctionIn,\n      inAuctionNumber,\n\n      rescueStartTime,\n      totalCats,\n      remainingCats,\n      rescuePriceInitial,\n      rescuePrice,\n      rescuePriceIncrement,\n      rescueTrancheSize,\n      rescuePriceFinal,\n      rescueRateLimit,\n      rescueLastBlock,\n\n      hateBalance,\n      nameChangePrice,\n      hateAllowance,\n\n      openSeaProxyRegistryContract,\n      openSeaProxyAddress,\n      openSeaApproved,\n      showOpenSeaMessage,\n    }\n\n    return <Provider value={dataContext}>{children}</Provider>\n  }\n}\n\nconst DataProvider = createDataRoot()\n\nconst useData = () => {\n  return useContext(context)\n}\n\nexport { DataProvider, useData }\n","import { useState, useEffect } from 'react'\nimport { BigNumber, constants, utils } from 'ethers'\nimport FetchRetry from 'fetch-retry'\nconst fetchRetry = FetchRetry(fetch)\n\nfunction useCatBalance(doomCatRescue, address) {\n  const [catBalance, setCatBalance] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue || !address || !utils.isAddress(address)) {\n      setCatBalance(BigNumber.from(0))\n      return\n    }\n\n    function getCatBalance() {\n      doomCatRescue.balanceOf(address)\n        .then(setCatBalance)\n        .catch(console.error)\n    }\n\n    getCatBalance()\n\n    function increaseCatBalance() {\n      getCatBalance()\n    }\n\n    function decreaseCatBalance() {\n      getCatBalance()\n    }\n\n    const transferCatInFilter = doomCatRescue.filters.Transfer(null, address, null)\n    const transferCatOutFilter = doomCatRescue.filters.Transfer(address, null, null)\n\n    doomCatRescue.on(transferCatInFilter, increaseCatBalance)\n    doomCatRescue.on(transferCatOutFilter, decreaseCatBalance)\n\n    return () => {\n      doomCatRescue.removeListener(transferCatInFilter, increaseCatBalance)\n      doomCatRescue.removeListener(transferCatOutFilter, decreaseCatBalance)\n    }\n  }, [doomCatRescue, address])\n\n  return catBalance\n}\n\nfunction useTokensOfOwnerByIndexes(doomCatRescue, address, balance) {\n  const [catIds, setCatIds] = useState([])\n\n  useEffect(() => {\n    if (!doomCatRescue || !address || balance.eq(BigNumber.from(0)) || !utils.isAddress(address)) {\n      setCatIds([])\n      return\n    }\n\n    Promise.all([...new Array(balance.toNumber()).keys()].map(i => doomCatRescue.tokenOfOwnerByIndex(address, i)))\n      .then(tokenIds => tokenIds.sort((a, b) => a.sub(b)))\n      .then(setCatIds)\n      .catch(console.error)\n  }, [address, balance, doomCatRescue])\n\n  return catIds\n}\n\nfunction useTokenURI(doomCatRescue, tokenId) {\n  const [tokenURI, setTokenURI] = useState()\n\n  useEffect(() => {\n    if (!doomCatRescue || !tokenId || tokenId.eq(0)) return\n\n    doomCatRescue.tokenURI(tokenId.toString())\n      .then(setTokenURI)\n      .catch(console.error)\n  }, [doomCatRescue, tokenId])\n\n  return tokenURI\n}\n\nfunction useCatInfo(doomCatRescue, tokenId, tokenURI, existingCatInfo) {\n  const [error, setError] = useState(null)\n  const [catInfo, setCatInfo] = useState(null)\n\n  useEffect(() => {\n    if (existingCatInfo) {\n      setCatInfo(existingCatInfo)\n    }\n  }, [existingCatInfo])\n\n  useEffect(() => {\n    if (!doomCatRescue || !tokenId || tokenId.eq(0) || existingCatInfo || !tokenURI) return\n\n    fetchRetry(tokenURI, {\n      retries: 20,\n      retryDelay: 3000,\n      retryOn: [401]\n    }).then(response => {\n      if (response.ok) {\n        return response.json()\n          .then(\n            result => {\n              return doomCatRescue.catNames(tokenId).then(_name => {\n                const name = _name ? _name : result.name\n                return setCatInfo({ ...result, name, isNamed: !!_name, id: tokenId.toNumber() })\n              }).catch(error => {\n                console.error(error)\n                setError(new Error(\"Unable to load cat\"))\n              })\n            },\n            error => {\n              console.error(error)\n              setError(new Error(\"Unable to load cat\"))\n            }\n          )\n      } else {\n        setError(new Error(\"Unable to load cat\"))\n      }\n    })\n      .catch(error => {\n        console.error(error)\n        setError(new Error(\"Unable to load cat\"))\n      })\n\n    function updateName(_, catId, name) {\n      if (!catId.eq(tokenId)) return\n      setCatInfo(catInfo => ({ ...catInfo, name, isNamed: true }))\n    }\n\n    doomCatRescue.on(\"NameCat\", updateName)\n\n    return () => {\n      doomCatRescue.removeListener(\"NameCat\", updateName)\n    }\n  }, [doomCatRescue, tokenId, existingCatInfo, tokenURI])\n\n  return [catInfo, error]\n}\n\nfunction useAuctionCatInfo(doomCatRescue, tokenId, tokenURI, account, existingCatInfo) {\n  const [classicalCatInfo, classicalError] = useCatInfo(doomCatRescue, tokenId, tokenURI, existingCatInfo)\n\n  const [error, setError] = useState(null)\n  const [catInfo, setCatInfo] = useState({\n    bidCount: BigNumber.from(0),\n    highBidAmount: BigNumber.from(0),\n    highBidOwner: constants.AddressZero,\n    bidByAddress: BigNumber.from(0),\n  })\n\n  useEffect(() => {\n    if (classicalCatInfo) {\n      setCatInfo(catInfo => ({ ...catInfo, ...classicalCatInfo }))\n    }\n  }, [classicalCatInfo])\n\n  useEffect(() => {\n    if (classicalError) {\n      setError(classicalError)\n    }\n  }, [classicalError])\n\n  useEffect(() => {\n    if (!doomCatRescue || !tokenId || tokenId.eq(0) || !tokenURI) return\n\n    Promise.all([\n      doomCatRescue.bidCount(tokenId),\n      doomCatRescue.highBidAmount(tokenId),\n      doomCatRescue.highBidOwner(tokenId),\n      account ? doomCatRescue.bidsByTokenByAddress(tokenId, account) : Promise.resolve(BigNumber.from(0))\n    ])\n      .then(([\n        bidCount,\n        highBidAmount,\n        highBidOwner,\n        bidByAddress,\n      ]) => {\n        setCatInfo(catInfo => ({ ...catInfo, bidCount, highBidAmount, highBidOwner, bidByAddress, loaded: true }))\n      })\n      .catch(error => {\n        console.error(error)\n        setError(new Error(\"Unable to load cat\"))\n      })\n\n    const updateCatAuction = (highBidOwner, catId, highBidAmount, bidCount) => {\n      if (!catId.eq(tokenId)) return\n\n      setCatInfo(catInfo => ({ ...catInfo, highBidOwner, highBidAmount, bidCount }))\n      \n      if (highBidOwner.toLowerCase() === account) {\n        setCatInfo(catInfo => ({ ...catInfo, bidByAddress: highBidAmount }))\n      }\n    }\n\n    doomCatRescue.on(\"Bid\", updateCatAuction)\n\n    const updateWithdrawLowBid = (lowBidOwner, catId, amount) => {\n      if (!catId.eq(tokenId)) return\n      if (lowBidOwner.toLowerCase() !== account.toLowerCase()) return\n\n      setCatInfo(catInfo => ({ ...catInfo, bidByAddress: BigNumber.from(0) }))\n    }\n\n    doomCatRescue.on(\"WithdrawLowBid\", updateWithdrawLowBid)\n\n    return () => {\n      doomCatRescue.removeListener(\"Bid\", updateCatAuction)\n      doomCatRescue.removeListener(\"WithdrawLowBid\", updateWithdrawLowBid)\n    }\n  }, [account, doomCatRescue, tokenId, tokenURI])\n\n  return [catInfo, error]\n}\n\nfunction useCatOwner(doomCatRescue, tokenId) {\n  const [owner, setOwner] = useState(constants.AddressZero)\n\n  useEffect(() => {\n    if (!doomCatRescue || tokenId.eq(0)) return\n\n    doomCatRescue.ownerOf(tokenId)\n      .then(setOwner)\n      .catch(console.error)\n\n    const updateOwner = (_, newOwner, catId) => {\n      if (!catId.eq(tokenId)) return\n      setOwner(newOwner)\n    }\n\n    doomCatRescue.on(\"Transfer\", updateOwner)\n\n    return () => {\n      doomCatRescue.removeListener(\"Transfer\", updateOwner)\n    }\n  }, [doomCatRescue, tokenId])\n\n  return owner\n}\n\nexport {\n  useCatBalance,\n  useTokensOfOwnerByIndexes,\n  useTokenURI,\n  useCatInfo,\n  useAuctionCatInfo,\n  useCatOwner,\n}","import { useState, useEffect } from 'react'\nimport { BigNumber } from 'ethers'\nimport { useWeb3 } from '../web3'\n\nfunction useCurrentBlock() {\n  const [currentBlock, setCurrentBlock] = useState(BigNumber.from(0))\n  const { provider } = useWeb3()\n\n  useEffect(() => {\n    if (!provider) return\n\n    provider.getBlockNumber().then(blockNumber => {\n      setCurrentBlock(BigNumber.from(blockNumber))\n    }).catch(console.error)\n\n    const getBlockNumber = blockNumber => {\n      setCurrentBlock(BigNumber.from(blockNumber))\n    }\n\n    provider.on('block', getBlockNumber)\n\n    return () => {\n      provider.removeListener('block', getBlockNumber)\n    }\n  }, [provider])\n\n  return currentBlock\n}\n\nfunction useCurrentTime(blockNumber) {\n  const [currentTime, setCurrentTime] = useState(BigNumber.from(Math.floor(Date.now() / 1000)))\n  const { provider } = useWeb3()\n\n  useEffect(() => {\n    if (!provider || blockNumber.eq(0)) return\n\n    provider.getBlock(blockNumber.toNumber()).then(block => {\n      if (block) {\n        setCurrentTime(BigNumber.from(block.timestamp))\n      }\n    }).catch(console.error)\n\n    const timer = setInterval(() => {\n      setCurrentTime(currentTime => currentTime.add(BigNumber.from(1)))\n    }, 1000)\n\n    return () => {\n      clearInterval(timer)\n    }\n  }, [provider, blockNumber])\n\n  return currentTime\n}\n\nexport {\n  useCurrentBlock,\n  useCurrentTime,\n}","import { useState, useEffect } from 'react'\nimport { BigNumber } from 'ethers'\nimport { useWeb3 } from '../web3'\n\nfunction useMyEtherBalance(account, block) {\n  const [myEtherBalance, setMyEtherBalance] = useState(BigNumber.from(0))\n  const { provider } = useWeb3()\n\n  useEffect(() => {\n    if (!account || !provider) {\n      setMyEtherBalance(BigNumber.from(0))\n      return\n    }\n\n    provider.getBalance(account).then(balance => {\n      setMyEtherBalance(balance)\n    }).catch(console.error)\n  }, [account, block, provider])\n\n  return myEtherBalance\n}\n\nexport {\n  useMyEtherBalance,\n}\n","import { useState, useEffect } from 'react'\n\nfunction useMyEns(account, provider, block, chainId) {\n  const [myEns, setMyEns] = useState(null)\n\n  useEffect(() => {\n    if (!account || !provider || chainId !== 1) {\n      setMyEns(null)\n      return\n    }\n\n    provider.lookupAddress(account)\n      .then(setMyEns)\n      .catch(console.error)\n  }, [account, block, provider, chainId])\n\n  return myEns\n}\n\nexport {\n  useMyEns,\n}\n","import { useState, useEffect } from 'react'\nimport { BigNumber } from 'ethers'\n\nfunction useGenesisCats(doomCatRescue) {\n  const [genesisCats, setGenesisCats] = useState(null)\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.genesisCats()\n      .then(setGenesisCats)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return genesisCats\n}\n\n\nfunction useAuctionsStart(doomCatRescue) {\n  const [auctionsStart, setAuctionsStart] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.auctionsStart()\n      .then(setAuctionsStart)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return auctionsStart\n}\n\nfunction useAuctionsDuration(doomCatRescue) {\n  const [auctionsDuration, setAuctionsDuration] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.auctionsDuration()\n      .then(setAuctionsDuration)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return auctionsDuration\n}\n\nfunction useAuctionsDistance(doomCatRescue) {\n  const [auctionsDistance, setAuctionsDistance] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.auctionsDistance()\n      .then(setAuctionsDistance)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return auctionsDistance\n}\n\nfunction useAuctionsCount(doomCatRescue) {\n  const [auctionsCount, setAuctionsCount] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.auctionsCount()\n      .then(setAuctionsCount)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return auctionsCount\n}\n\nfunction useAuctionsCatsPerAuction(doomCatRescue) {\n  const [catsPerAuction, setCatsPerAuction] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.auctionsCatsPerAuction()\n      .then(setCatsPerAuction)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return catsPerAuction\n}\n\nfunction useAuctionsBidIncrement(doomCatRescue) {\n  const [bidIncrement, setBidIncrement] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.auctionsBidIncrement()\n      .then(setBidIncrement)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return bidIncrement\n}\n\nfunction useCompletedAuctions(currentTime, start, duration, distance, count) {\n  const [completedAuctions, setCompletedAuctions] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    const endOfFirst = start.add(duration)\n    const fullCycle = duration.add(distance)\n\n    // first auction hasn't completed yet\n    if (currentTime.lt(endOfFirst)) {\n      setCompletedAuctions(BigNumber.from(0))\n      return\n    }\n\n    // last auction is over\n    if (currentTime.gte(endOfFirst.add(fullCycle.mul(count)))) {\n      setCompletedAuctions(count)\n      return\n    }\n\n    // in the auction cycle\n    setCompletedAuctions(currentTime.sub(endOfFirst).div(fullCycle).add(1))\n  }, [count, currentTime, distance, duration, start])\n\n  return completedAuctions\n}\n\nfunction useAuctionEndsIn(currentTime, start, duration, distance, count) {\n  const [auctionEndsIn, setAuctionEndsIn] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (duration.eq(0)) return\n\n    const fullCycle = duration.add(distance)\n    const remaining = duration.sub(currentTime.sub(start).mod(fullCycle))\n\n    // before first auction starts\n    if (currentTime.lt(start)) {\n      setAuctionEndsIn(BigNumber.from(0))\n      return\n    }\n\n    // after last auction starts\n    if (currentTime.gte(start.add(fullCycle.mul(count)))) {\n      setAuctionEndsIn(BigNumber.from(0))\n      return\n    }\n\n    // during auctions\n    if (remaining.lt(0)) {\n      setAuctionEndsIn(BigNumber.from(0))\n    } else {\n      setAuctionEndsIn(remaining)\n    }\n\n  }, [count, currentTime, distance, duration, start])\n\n  return auctionEndsIn\n}\n\nfunction useNextAuctionIn(currentTime, start, duration, distance, count) {\n  const [nextAuctionIn, setNextAuctionIn] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (duration.eq(0)) return\n\n    const fullCycle = duration.add(distance)\n    const remaining = distance.sub(currentTime.sub(start).add(distance).mod(fullCycle))\n\n    // before first auction starts\n    if (currentTime.lt(start)) {\n      setNextAuctionIn(start.sub(currentTime))\n      return\n    }\n\n    // after last auction starts\n    if (currentTime.gte(start.sub(duration).add(fullCycle.mul(count)))) {\n      setNextAuctionIn(BigNumber.from(0))\n      return\n    }\n\n    // during auctions\n    if (remaining.lt(0)) {\n      setNextAuctionIn(BigNumber.from(0))\n    } else {\n      setNextAuctionIn(remaining)\n    }\n  }, [count, currentTime, distance, duration, start])\n\n  return nextAuctionIn\n}\n\nfunction useInAuctionNumber(currentTime, start, duration, distance, count) {\n  const [inAuctionNumber, setInAuctionNumber] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (duration.eq(0)) return\n    \n    const fullCycle = duration.add(distance)\n    const remaining = distance.sub(currentTime.sub(start).add(distance).mod(fullCycle))\n\n    // first auction hasn't started yet\n    if (currentTime.lt(start)) {\n      setInAuctionNumber(BigNumber.from(0))\n      return\n    }\n\n    // last auction is over\n    if (currentTime.gte(start.sub(duration).add(fullCycle.mul(count)))) {\n      setInAuctionNumber(BigNumber.from(0))\n      return\n    }\n\n    // in the auction cycle\n    if (remaining.gt(0)) {\n      setInAuctionNumber(BigNumber.from(0))\n    } else {\n      setInAuctionNumber(currentTime.sub(start).div(fullCycle).add(1))\n    }\n    \n  }, [count, currentTime, distance, duration, start])\n\n  return inAuctionNumber\n}\n\nexport {\n  useGenesisCats,\n  useAuctionsStart,\n  useAuctionsDuration,\n  useAuctionsDistance,\n  useAuctionsCount,\n  useAuctionsCatsPerAuction,\n  useAuctionsBidIncrement,\n  useCompletedAuctions,\n  useAuctionEndsIn,\n  useNextAuctionIn,\n  useInAuctionNumber,\n}\n","import { useState, useEffect } from 'react'\nimport { BigNumber } from 'ethers'\n\nfunction useRescueStartTime(doomCatRescue) {\n  const [rescueStartTime, setRescueStartTime] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.rescueStartTime()\n      .then(setRescueStartTime)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return rescueStartTime\n}\n\nfunction useTotalCats(doomCatRescue) {\n  const [totalCats, setTotalCats] = useState(null)\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.totalCats()\n      .then(setTotalCats)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return totalCats\n}\n\nfunction useRemainingCats(doomCatRescue) {\n  const [remainingCats, setRemainingCats] = useState(null)\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    function getRemainingCats() {\n      doomCatRescue.remainingCats()\n        .then(setRemainingCats)\n        .catch(console.error)\n    }\n    \n    getRemainingCats()\n\n    function updateRemainingCats() {\n      getRemainingCats()\n    }\n\n    doomCatRescue.on('Rescue', updateRemainingCats)\n\n    return () => {\n      doomCatRescue.removeListener('Rescue', updateRemainingCats)\n    }\n  }, [doomCatRescue])\n\n  return remainingCats\n}\n\nfunction useRescuePriceInitial(doomCatRescue) {\n  const [rescuePriceInitial, setRescuePriceInitial] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.rescuePriceInitial()\n      .then(setRescuePriceInitial)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return rescuePriceInitial\n}\n\nfunction useRescuePrice(doomCatRescue) {\n  const [rescuePrice, setRescuePrice] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    function updateRescuePrice() {\n      doomCatRescue.rescuePrice()\n        .then(setRescuePrice)\n        .catch(console.error)\n    }\n\n    updateRescuePrice()\n\n    doomCatRescue.on('Rescue', updateRescuePrice)\n\n    return () => {\n      doomCatRescue.removeListener('Rescue', updateRescuePrice)\n    }\n  }, [doomCatRescue])\n\n  return rescuePrice\n}\n\nfunction useRescuePriceIncrement(doomCatRescue) {\n  const [rescuePriceIncrement, setRescuePriceIncrement] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.rescuePriceIncrement()\n      .then(setRescuePriceIncrement)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return rescuePriceIncrement\n}\n\nfunction useRescueTrancheSize(doomCatRescue) {\n  const [rescueTrancheSize, setRescueTrancheSize] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.rescueTrancheSize()\n      .then(setRescueTrancheSize)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return rescueTrancheSize\n}\n\nfunction useRescuePriceFinal(doomCatRescue, totalCats, genesisCats, rescuePriceInitial, rescuePriceIncrement, rescueTrancheSize) {\n  const [rescuePriceFinal, setRescuePriceFinal] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue || !totalCats || !genesisCats || !rescuePriceInitial || !rescuePriceIncrement || !rescueTrancheSize || rescueTrancheSize.eq(0)) return\n\n    setRescuePriceFinal(rescuePriceInitial.add(totalCats.sub(genesisCats).div(rescueTrancheSize).mul(rescuePriceIncrement)))\n  }, [doomCatRescue, totalCats, genesisCats, rescuePriceInitial, rescuePriceIncrement, rescueTrancheSize])\n\n  return rescuePriceFinal\n}\n\nfunction useRescueRateLimit(doomCatRescue) {\n  const [rescueRateLimit, setRescueRateLimit] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.rescueRateLimit()\n      .then(setRescueRateLimit)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return rescueRateLimit\n}\n\nfunction useRescueLastBlock(doomCatRescue, account) {\n  const [rescueLastBlock, setRescueLastBlock] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue || !account) return\n\n    doomCatRescue.rescueLastBlock(account)\n      .then(setRescueLastBlock)\n      .catch(console.error)\n\n    function updateRescueLastBlock(_, __, ___, options) {\n      setRescueLastBlock(BigNumber.from(options.blockNumber))\n    }\n\n    const rescueLastBlockFilter = doomCatRescue.filters.Rescue(account, null, null)\n\n    doomCatRescue.on(rescueLastBlockFilter, updateRescueLastBlock)\n\n    return () => {\n      doomCatRescue.removeListener(rescueLastBlockFilter, updateRescueLastBlock)\n    }\n  }, [doomCatRescue, account])\n\n  return rescueLastBlock\n}\n\nexport {\n  useRescueStartTime,\n  useTotalCats,\n  useRemainingCats,\n  useRescuePriceInitial,\n  useRescuePrice,\n  useRescuePriceIncrement,\n  useRescueTrancheSize,\n  useRescuePriceFinal,\n  useRescueRateLimit,\n  useRescueLastBlock,\n}\n","import { useState, useEffect } from 'react'\nimport { BigNumber } from 'ethers'\n\nfunction useMyHateBalance(account, hate, blockNum) {\n  const [myHateBalance, setMyHateBalance] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!account || !hate) return\n\n    hate.balanceOf(account)\n      .then(setMyHateBalance)\n      .catch(console.error)\n  }, [account, hate, blockNum])\n\n  return myHateBalance\n}\n\nfunction useNameChangePrice(doomCatRescue) {\n  const [nameChangePrice, setNameChangePrice] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue) return\n\n    doomCatRescue.nameChangePrice()\n      .then(setNameChangePrice)\n      .catch(console.error)\n  }, [doomCatRescue])\n\n  return nameChangePrice\n}\n\nfunction useHateAllowance(doomCatRescue, hate, account, blockNum) {\n  const [allowance, setAllowance] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!doomCatRescue || !hate || !account) return\n\n    hate.allowance(account, doomCatRescue.address)\n      .then(setAllowance)\n      .catch(console.error)\n  }, [account, doomCatRescue, hate, blockNum])\n\n  return allowance\n}\n\nexport {\n  useMyHateBalance,\n  useNameChangePrice,\n  useHateAllowance,\n}\n","import { useState, useEffect } from 'react'\nimport { constants } from 'ethers'\n\nfunction useOpenSeaProxyAddress(proxyRegistry, account, blockNum) {\n  const [openSeaProxyAddress, setOpenSeaProxyAddress] = useState(constants.AddressZero)\n\n  useEffect(() => {\n    if (!proxyRegistry || !account) {\n      setOpenSeaProxyAddress(constants.AddressZero)\n      return\n    }\n\n    proxyRegistry.proxies(account)\n      .then(setOpenSeaProxyAddress)\n      .catch(console.error)\n  }, [account, proxyRegistry, blockNum])\n\n  return openSeaProxyAddress\n}\n\nfunction useOpenSeaApproved(doomCatContract, account, balance, proxyAddress, blockNum) {\n  const [openSeaApproved, setOpenSeaAppproved] = useState(false)\n\n  useEffect(() => {\n    if (!doomCatContract || !account || balance.eq(0) || proxyAddress === constants.AddressZero) {\n      setOpenSeaAppproved(false)\n      return\n    }\n\n    doomCatContract.tokenOfOwnerByIndex(account, 0)\n      .then(tokenId => doomCatContract.callStatic.transferFrom(account, doomCatContract.address, tokenId, { from: proxyAddress }))\n      .then(() => setOpenSeaAppproved(true))\n      .catch(() => setOpenSeaAppproved(false))\n  }, [account, doomCatContract, balance, proxyAddress, blockNum])\n\n  return openSeaApproved\n}\n\nfunction useShowOpenSeaMessage(account, myCatBalance, openSeaApproved) {\n  const [showOpenSeaMessage, setShowOpenSeaMessage] = useState(false)\n\n  useEffect(() => {\n    setShowOpenSeaMessage(\n      account &&\n      myCatBalance.gt(0) &&\n      !openSeaApproved\n    )\n  }, [account, myCatBalance, openSeaApproved])\n\n  return showOpenSeaMessage\n}\n\nexport {\n  useOpenSeaProxyAddress,\n  useOpenSeaApproved,\n  useShowOpenSeaMessage,\n}","import { utils } from 'ethers'\nimport { Link } from 'react-router-dom'\nimport { useData } from '../dataContext'\nimport { useWeb3 } from '../web3'\nimport { connect } from '../web3/useProvider'\nimport { useState, useEffect } from 'react';\n\nconst Header = () => {\n  const { myEtherBalance, myEns, hateBalance, showOpenSeaMessage } = useData()\n  const { account } = useWeb3()\n  const [userName, setUserName] = useState(null);\n  \n  useEffect(() => {\n    const max = 10\n    const ellipses = \"...\"\n\n    if (myEns) {\n      let name = myEns.split(\".\")[0].toUpperCase()\n      if (name.length > max) {\n        name = name.substring(0, max - ellipses.length) + ellipses\n      }\n      setUserName(name)\n    } else if (account) {\n      setUserName(account.substring(0, max))\n    } else {\n      setUserName(null)\n    }\n  }, [account, myEns]);\n  \n  return (\n    <div className=\"w-full\">\n      <div className=\"bg-purple\">\n        <div className=\"container text-white py-6 flex flex-col sm:flex-row sm:justify-between lg:items-center\">\n          <div className=\"text-xl mb-6 sm:mb-0\">\n            <Link to=\"/\">DoomCatRescue</Link>\n          </div>\n          <div className=\"flex flex-col lg:flex-row text-right\">\n            <Link to=\"/ascended\" className=\"mb-2 lg:mb-0 lg:mr-4\">ASCENDED</Link>\n            <div className=\"hidden lg:block lg:mr-4\">|</div>\n            <Link to=\"/auctions\" className=\"mb-2 lg:mb-0 lg:mr-4\">AUCTIONS</Link>\n            <div className=\"hidden lg:block lg:mr-4\">|</div>\n            \n            {userName\n              ? <Link to=\"/gallery\">{userName}</Link>\n              : <button className=\"hover:underline ml-auto\" onClick={() => connect()}>CONNECT</button>\n            }\n          </div>\n        </div>\n      </div>\n      <div className=\"container\">\n        {account && <div className=\"text-white text-sm pt-4 -mb-8 flex justify-between\">\n          <div>\n            {showOpenSeaMessage && <div>\n              <Link to=\"/open-sea-approval\">OpenSea Approval</Link>\n            </div>}\n          </div>\n          <div className=\"text-right flex\">\n            <div className=\"mr-6\">\n              <div>{parseFloat(utils.formatEther(myEtherBalance)).toFixed(4)} ETH  </div>\n            </div>\n            <div>\n              <div>{parseFloat(utils.formatEther(hateBalance)).toFixed(4)} HATE</div>\n            </div>\n          </div>\n        </div>}\n        <div className=\"my-16 flex flex-col\">\n          <h1 className=\"text-purple text-shadow text-xl sm:text-4xl md:text-5xl lg:text-6xl text-center mb-2\">DoomCatRescue</h1>\n          <div className=\"text-center text-white text-xs mt-2\">\n            <a href=\"https://discord.com/invite/P42tGfnh3z\" target=\"_blank\" rel=\"noreferrer\">Discord</a> | <a href=\"https://twitter.com/doom_cats\" target=\"_blank\" rel=\"noreferrer\">Twitter</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","import { useData } from '../dataContext'\n\nfunction Footer() {\n  const { doomCatContract } = useData()\n\n  return (\n    <div className=\"container text-center py-8 -mt-4 text-white text-sm flex flex-col\">\n      <div className=\"mb-2\">\n        <a href=\"https://discord.com/invite/P42tGfnh3z\" target=\"_blank\" rel=\"noreferrer\">Join us on Discord!</a>\n      </div>\n      <div className=\"mb-8\">\n        <a href=\"https://twitter.com/doom_cats\" target=\"_blank\" rel=\"noreferrer\">Follow us on Twitter!</a>\n      </div>\n      <div>\n        <a href={`https://etherscan.io/address/${doomCatContract?.address}`} target=\"_blank\" rel=\"noreferrer\">We like the cats</a>\n      </div>\n    </div>\n  )\n}\n\nexport default Footer\n","const Jumbo = ({ children }) => {\n  return (\n    <div className=\"bg-white rounded-2xl mb-4 p-6 sm:p-12\">\n      {children}\n    </div>\n  )\n}\n\nexport default Jumbo\n","import { useState, useCallback } from 'react'\nimport { toast } from 'react-toastify'\n\nconst useTransaction = () => {\n  const [pending, setPending] = useState(false)\n\n  const contractCall = useCallback(\n    (contractFn, parameters, pendingMessage, failedMessage, successMessage, successCallback, completedCallback) => {\n      setPending(true)\n      let toastId\n      contractFn(...parameters)\n        .then(txResponse => {\n          toastId = toast(pendingMessage, {\n            autoClose: false,\n            closeOnClick: false,\n            draggable: false\n          })\n          return Promise.all([txResponse.wait(), toastId])\n        })\n        .then(([txReceipt, toastId]) => {\n          setPending(false)\n          toast.dismiss(toastId)\n          if (txReceipt.status === 0) {\n            toast.error(failedMessage)\n          } else if (txReceipt.status === 1) {\n            toast.success(successMessage)\n            if (successCallback) successCallback(txReceipt)\n          } else {\n            toast.error(\"TRANSACTION FAILED OR SOMETHING\")\n          }\n          if (completedCallback) completedCallback(txReceipt)\n        })\n        .catch(error => {\n          console.error(error)\n          setPending(false)\n          toast.dismiss(toastId)\n          toast.error(\"YOU BROKE IT\")\n        })\n    }, [])\n\n  return { contractCall, pending }\n}\n\nexport { useTransaction }\n","function useTimeSplitter(seconds) {\n  const zeroPad = (num) => String(num).padStart(2, '0')\n\n  const d = zeroPad(Math.floor(seconds / (3600 * 24)))\n  const h = zeroPad(Math.floor(seconds % (3600 * 24) / 3600))\n  const m = zeroPad(Math.floor(seconds % 3600 / 60))\n  const s = zeroPad(Math.floor(seconds % 60))\n\n  return ({ d, h, m, s })\n}\n\nexport { useTimeSplitter }\n","import { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { BigNumber, utils } from 'ethers'\nimport { useData } from '../dataContext'\nimport Jumbo from '../components/Jumbo'\nimport { useWeb3 } from '../web3'\nimport { useTransaction } from '../dataContext/transactions'\nimport { useTimeSplitter } from '../utils/time'\n\nconst ProgressBar = () => {\n  const { totalCats, genesisCats, remainingCats } = useData()\n\n  const [totalRescuable, setTotalRescuable] = useState(BigNumber.from(0))\n  useEffect(() => {\n    if (!totalCats || !genesisCats) return\n    setTotalRescuable(totalCats.sub(genesisCats))\n  }, [totalCats, genesisCats])\n\n  const [rescuedCount, setRescuedCount] = useState(BigNumber.from(0))\n  useEffect(() => {\n    if (!remainingCats || !totalCats || !genesisCats) return\n    setRescuedCount(totalCats.sub(remainingCats).sub(genesisCats))\n  }, [genesisCats, remainingCats, totalCats])\n\n  const [percentageRescued, setPercentageRescued] = useState(0)\n  useEffect(() => {\n    setPercentageRescued(Math.trunc(rescuedCount.toNumber() / totalRescuable.toNumber() * 100 * 10 ) / 10)\n  }, [rescuedCount, totalRescuable])\n\n  return (\n    <div className=\"rounded-2xl border-4 overflow-hidden text-xs\">\n      <div className=\"p-1 text-white bg-purple overflow-hidden\" style={{ width: `${percentageRescued}%` }}>\n        {percentageRescued} %\n      </div>\n    </div>\n  )\n}\n\nconst Rescue = () => {\n  const {\n    doomCatContract,\n    currentTime,\n    rescueStartTime,\n    remainingCats,\n    rescuePrice, rescuePriceIncrement,\n    rescueRateLimit, currentBlock, rescueLastBlock,\n  } = useData()\n  const { account } = useWeb3()\n  const { contractCall, pending } = useTransaction()\n  const history = useHistory();\n\n  const [buttonDisabled, setButtonDisabled] = useState(true)\n  useEffect(() => {\n    setButtonDisabled(\n      !(\n        !pending &&\n        account &&\n        currentTime.gte(rescueStartTime) &&\n        currentBlock.gte(rescueLastBlock.add(rescueRateLimit))\n      )\n    )\n  }, [account, currentBlock, currentTime, pending, rescueLastBlock, rescueRateLimit, rescueStartTime])\n\n  const rescue = () => {\n    contractCall(\n      doomCatContract.rescue, [{ value: rescuePrice.add(rescuePriceIncrement), gasLimit: 400000 }], // send a lil extra\n      \"ASCENDING DOOMCAT\", \"ASCENSION FAILED\", \"ASCENSION SUCCESSFUL\", (receipt) => {\n        history.push(`/ascended/${receipt.events[1].args.tokenId.toString()}`)\n      }\n    )\n  }\n\n  const { d, h, m, s } = useTimeSplitter(rescueStartTime.sub(currentTime))\n\n  const [localRemainingCats, setLocalRemainingCats] = useState(BigNumber.from(0))\n  useEffect(() => {\n    if (remainingCats) {\n      setLocalRemainingCats(remainingCats)\n    }\n  }, [remainingCats])\n\n  return (\n    <Jumbo>\n      <div className=\"text-center\">\n        <h4>DoomCats Remaining: {localRemainingCats.toString()}</h4>\n        {currentTime.lt(rescueStartTime) && <div><h4 className=\"mt-4 uppercase\">\n          DoomCat Ascension begins in\n        </h4><h3>{d} days {h} hours {m} minutes {s} seconds</h3></div>}\n        {localRemainingCats.gt(0) &&\n          <div className=\"mt-4\">\n            <h4 className=\"mb-4\">Price: {parseFloat(utils.formatEther(rescuePrice.toString())).toFixed(5)} ETH</h4>\n            <div className=\"mb-4\">\n              <ProgressBar />\n            </div>\n            <button disabled={buttonDisabled} onClick={rescue} className=\"bg-purple text-white px-4 py-2 shadow-lg disabled:cursor-not-allowed disabled:opacity-30\">\n              RESCUE\n            </button>\n          </div>\n        }\n      </div>\n    </Jumbo>\n  )\n}\n\nexport default Rescue\n","import { useState, useEffect } from 'react'\nimport { BigNumber, utils } from 'ethers'\nimport Jumbo from '../components/Jumbo'\nimport Rescue from '../components/Rescue'\nimport { useData } from '../dataContext'\n\nconst Paragraph = ({ children }) => {\n  return (\n    <div className=\"mb-8\">\n      {children}\n    </div>\n  )\n}\n\nconst Home = () => {\n  const {\n    totalCats, genesisCats,\n    auctionsCount, catsPerAuction, auctionsBidIncrement,\n    rescueStartTime, rescuePriceInitial, rescuePriceIncrement, rescueTrancheSize, rescuePriceFinal,\n  } = useData()\n\n  const startDate = new Date(rescueStartTime.toNumber() * 1000)\n\n  const [localTotalCats, setLocalTotalCats] = useState(BigNumber.from(0))\n  useEffect(() => {\n    if (totalCats) {\n      setLocalTotalCats(totalCats)\n    }\n  }, [totalCats])\n\n  const [localGenesisCats, setLocalGenesisCats] = useState(BigNumber.from(0))\n  useEffect(() => {\n    if (genesisCats) {\n      setLocalGenesisCats(genesisCats)\n    }\n  }, [genesisCats])\n\n  return (\n    <div>\n      <div>\n        <Rescue />\n        <Jumbo>\n          <div className=\"mb-8 text-center text-xl\">RED ALERT</div>\n          <Paragraph>\n            Crew Member,\n          </Paragraph>\n          <Paragraph>\n            Congratulations on your ascension.\n          </Paragraph>\n          <Paragraph>\n            Now, you must save the DoomCats.\n          </Paragraph>\n          <Paragraph>\n            There are {localTotalCats.toString()} DoomCats trapped down on Earth unable to reach the next plane of existence.\n          </Paragraph>\n\n          <div className=\"mb-8 text-xl\">How can I rescue the DoomCats?</div>\n          <Paragraph>\n            On {startDate.toLocaleDateString()} at {startDate.toLocaleTimeString()}, transportation for the DoomCat souls will be possible through an affordable, linear bonding curve starting at {utils.formatEther(rescuePriceInitial)} ETH, increasing by {utils.formatEther(rescuePriceIncrement)} ETH every {rescueTrancheSize.toNumber()} cats sold, to a cap of {utils.formatEther(rescuePriceFinal)} ETH.\n          </Paragraph>\n          <Paragraph>\n            Hitting the “RESCUE” button will open your wallet (e.g. MetaMask or a WalletConnect compatible wallet), allowing you to start the process of saving your DoomCat’s soul.\n          </Paragraph>\n\n          <div className=\"mb-8 text-xl\">What happens when I rescue a DoomCat?</div>\n          <Paragraph>\n            Once ascended, you receive an NFT of the DoomCat’s soul—an ERC-721 token. Each token is a unique 24x24 image varying in pose, direction, or color.\n          </Paragraph>\n          <Paragraph>\n            94% of the DoomCats are strays, grateful to have their ethereal selves elevated to cosmic travel.\n          </Paragraph>\n          <Paragraph>\n            The highest ascended cats—the 6% of most spiritually evolved Cats— are given unique breeds (Glowie, Alien, Zombie, Nuke, Hate, or Smokey).\n          </Paragraph>\n          <Paragraph>\n            5% of DoomCats have a chance for their journey to be backdropped with a special background, including: Desert, Beach, Windows, Matrix, or Heaven.\n          </Paragraph>\n          <Paragraph>\n            2% of DoomCats brought their favorite item to ease the graduation process: items include: googles, ciggies, or one of five colored party hats. Party hat colors include: red, blue, yellow, purple, or white.\n          </Paragraph>\n          <Paragraph>\n            There are 39 purple-draped cats in honor of the first 39 ascended Members. Additionally, the oldest 0.1% of souls will be completely black and white, the “Genesis DoomCats”\n          </Paragraph>\n\n          <div className=\"mb-8 text-xl\">How are Genesis DoomCats rescued?</div>\n          <Paragraph>\n            The {localGenesisCats.toString()} Genesis DoomCats will be distributed in a fully unique way— {auctionsCount.toString()} total weekly auctions with {catsPerAuction.toString()} Genesis DoomCats auctioned every week. Auctions start at {parseFloat(utils.formatEther(auctionsBidIncrement.toString())).toFixed(2)} ETH per cat. That means no bots front-running, no dev allocation, no other way to claim a Genesis DoomCat than win with the highest bid.\n          </Paragraph>\n          <Paragraph>\n            This distribution mechanic is the first of its kind, unlike any other in the Universe.\n          </Paragraph>\n          \n          <div className=\"mb-8 text-xl\">What happens to the funds used for DoomCat Rescue?</div>\n          <Paragraph>\n            ETH from the initial distribution, and the {auctionsCount.toNumber()} auctions, will be added to the HATE Uniswap LP and burned to the next plane of spiritual existence.\n          </Paragraph>\n\n          <div className=\"mb-8 text-xl\">Can I interact with my DoomCat?</div>\n          <Paragraph>\n            DoomCat Rescue allows users to spend HATE to name their DoomCats.\n          </Paragraph>\n\n          <hr className=\"mb-8\" />\n          <Paragraph>\n            The Present Representative,<br />\n            &nbsp;&nbsp;&nbsp;&nbsp;Marshall Applewhite\n          </Paragraph>\n        </Jumbo>\n      </div>\n    </div>\n  )\n}\n\nexport default Home\n","import { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useData } from '../dataContext'\nimport { useWeb3 } from '../web3'\n\nconst OpenSeaMessageAccount = ({ accountCompare }) => {\n  const { showOpenSeaMessage } = useData()\n  const { account } = useWeb3()\n\n  const [showOpenSeaMessageAccount, setShowOpenSeaMessageAccount] = useState(false)\n  useEffect(() => {\n    setShowOpenSeaMessageAccount(\n      showOpenSeaMessage && \n      account.toLowerCase() === accountCompare.toLowerCase()\n    )\n  }, [account, accountCompare, showOpenSeaMessage])\n\n  if (!showOpenSeaMessageAccount) {\n    return null\n  }\n\n  return (\n    <div className=\"not-italic text-xs mt-2\">\n      <div>Make sure you've <Link to=\"/open-sea-approval\" className=\"text-purple\">approved your proxy contract</Link> if you plan on selling on OpenSea.</div>\n    </div>\n  )\n}\n\nexport default OpenSeaMessageAccount\n","import { useEffect, useState } from 'react'\nimport Image from 'react-graceful-image'\nimport { BigNumber, constants, utils } from 'ethers'\nimport { Link, Redirect, useParams, useLocation } from 'react-router-dom'\nimport Jumbo from \"../components/Jumbo\"\nimport OpenSeaMessageAccount from '../components/OpenSeaMessageAccount'\nimport { useWeb3 } from '../web3'\nimport { useData } from '../dataContext'\nimport { useTokenURI, useCatInfo, useCatOwner } from '../dataContext/cats'\nimport { useTransaction } from '../dataContext/transactions'\n\nconst LoadingError = ({ children, catId }) => {\n  return (\n    <Jumbo>\n      <div className=\"h-full text-center\">\n        <div className=\"text-xl\">DoomCat #{catId.toString()}</div>\n        <div className=\"flex flex-col justify-center h-full p-4\">{children}</div>\n      </div>\n    </Jumbo>\n  )\n}\n\nconst Rename = ({ catId }) => {\n  const { hateAllowance, hateBalance, nameChangePrice, doomCatContract, hateContract } = useData()\n  const { contractCall, pending } = useTransaction()\n  const [callData, setCallData] = useState([])\n  const [buttonText, setButtonText] = useState(\"APPROVE\")\n  const [name, setName] = useState(\"\")\n  const [buttonDisabled, setButtonDisabled] = useState(true)\n\n  useEffect(() => {\n    setButtonDisabled(\n      !(\n        !pending &&\n        hateBalance.gte(nameChangePrice)\n      )\n    )\n  }, [pending, hateBalance, nameChangePrice])\n\n  useEffect(() => {\n    if (hateAllowance.lt(nameChangePrice)) {\n      if (!hateContract) return\n      setButtonText(\"APPROVE\")\n      setCallData([\n        hateContract.approve,\n        [doomCatContract.address, constants.MaxUint256],\n        \"APPROVING HATE\", \"HATE APPROVAL FAILED\", \"HATE APPROVAL SUCCEEDED\",\n        () => {\n          setCallData([])\n        }\n      ])\n    } else {\n      if (!doomCatContract) return\n      setButtonText(\"RENAME\")\n      setCallData([\n        doomCatContract.nameCat,\n        [catId, name],\n        \"NAMING DOOMCAT\", \"NAMING FAILED\", \"NAMING SUCCESSFUL\",\n        () => {\n          setName(\"\")\n          setCallData([])\n        }\n      ])\n    }\n  }, [catId, doomCatContract, hateAllowance, hateContract, name, nameChangePrice])\n\n  const nameCat = e => {\n    e.preventDefault()\n    contractCall(...callData)\n  }\n\n  return (\n    <form className=\"-mt-4 w-full\" onSubmit={nameCat}>\n      <div className=\"text-xs text-center mb-2\">\n        Name your DoomCat for {utils.formatEther(nameChangePrice)} HATE\n      </div>\n      <div className=\"flex flex-col sm:flex-row items-center\">\n        <input type=\"text\" className=\"flex-grow border rounded p-2 w-min mb-4 sm:mr-4 sm:mb-0\" value={name} onChange={e => setName(e.target.value)} />\n        <button type=\"submit\" disabled={buttonDisabled} className=\"bg-purple text-white px-4 py-2 shadow-lg disabled:cursor-not-allowed disabled:opacity-30\">{buttonText}</button>\n      </div>\n    </form>\n  )\n}\n\nconst DoomCatDetails = () => {\n  const { id } = useParams()\n  const [catId, setCatId] = useState(BigNumber.from(0))\n  const { doomCatContract } = useData()\n  const { account } = useWeb3()\n\n  const location = useLocation()\n  const tokenURI = useTokenURI(doomCatContract, catId)\n  const [catInfo, error] = useCatInfo(doomCatContract, catId, tokenURI, location?.state?.catInfo)\n  const owner = useCatOwner(doomCatContract, catId)\n\n  useEffect(() => {\n    if (!isNaN(id)) {\n      setCatId(BigNumber.from(id))\n    } else {\n      setCatId(null)\n    }\n  }, [id])\n\n  const [canName, setCanName] = useState(false)\n  useEffect(() => {\n    if (!catInfo) return\n    setCanName(account && account.toLowerCase() === owner.toLowerCase() && !catInfo.isNamed)\n  }, [account, catInfo, owner])\n\n  if (catId === null) {\n    return <Redirect to=\"/\" />\n  } else if (error) {\n    return (\n      <LoadingError catId={catId}>\n        <div>Error: {error.message}</div>\n      </LoadingError>\n    )\n  } else if (catInfo) {\n    return (\n      <Jumbo>\n        <div className=\"mb-4 text-center text-xl\">{catInfo.name}</div>\n        <div className=\"mb-8 text-center text-lg\">\n          Owned by <Link className=\"text-purple\" to={`/gallery/${owner}`}>{owner.substring(0, 8)}</Link>\n        </div>\n        {canName && <Rename catId={catId} />}\n        <div className=\"text-purple text-center mt-4 flex justify-center text-xs items-center\">\n          <a href={`https://opensea.io/assets/${doomCatContract?.address}/${catInfo.id}`} target=\"_blank\" rel=\"noreferrer\">View on OpenSea</a>\n          <div className=\"mx-2\">|</div>\n          <a href={`https://rarible.com/token/${doomCatContract?.address}:${catInfo.id}`} target=\"_blank\" rel=\"noreferrer\">View on Rarible</a>\n        </div>\n        <div className=\"text-xs mt-4\">\n          <div className=\"max-w-md mx-auto\">\n            <Image\n              src={catInfo.image}\n              retry={{ count: 30, delay: 3 }}\n              width=\"100%\"\n              alt={catInfo.name}\n            />\n          </div>\n          <div className=\"flex flex-col items-center mt-4\">\n            <div>\n              <div>ID: {catInfo.id}</div>\n              {catInfo.attributes.map((a, i) => {\n                return (\n                  <div key={i}>{a.trait_type}: {a.value}</div>\n                )\n              })}\n            </div>\n          </div>\n          <div className=\"mt-8 text-center\">\n            <OpenSeaMessageAccount accountCompare={owner} />\n          </div>\n        </div>\n      </Jumbo>\n    )\n  } else {\n    return (\n      <LoadingError catId={catId}>\n        <div>Loading...</div>\n      </LoadingError>\n    )\n  }\n}\n\nexport default DoomCatDetails\n","import { useState, useEffect } from 'react'\nimport { BigNumber, constants, utils } from 'ethers'\nimport { Link } from 'react-router-dom'\nimport Image from 'react-graceful-image'\nimport { useWeb3 } from '../web3'\nimport { useData } from '../dataContext'\nimport { useAuctionCatInfo } from '../dataContext/cats'\nimport { useCatOwner } from '../dataContext/cats'\n\nconst Container = ({ children }) => {\n  return (\n    <div className=\"transition duration-500 ease-in-out transform hover:scale-110\">\n      {children}\n    </div>\n  )\n}\n\nconst LoadingError = ({ children, catId }) => {\n  return (\n    <div className=\"h-full text-center text-sm p-4\">\n      <div>DoomCat #{catId.toString()}</div>\n      <div className=\"flex flex-col justify-center mt-6\">{children}</div>\n    </div>\n  )\n}\n\nconst DoomCatAuctionCard = ({ tokenId, catLoadedCallback, over }) => {\n  const [tokenURI, setTokenURI] = useState()\n  const [catId] = useState(BigNumber.from(tokenId))\n  const { account } = useWeb3()\n\n  useEffect(() => {\n    setTokenURI(`https://api.doom.cat/metadata/${tokenId}`)\n  }, [tokenId])\n\n  const { doomCatContract } = useData()\n  const [catInfo, error] = useAuctionCatInfo(doomCatContract, catId, tokenURI, account)\n\n  const owner = useCatOwner(doomCatContract, catId)\n\n  useEffect(() => {\n    if (catInfo?.loaded && catLoadedCallback) {\n      catLoadedCallback(tokenId)\n    }\n  }, [catInfo, catLoadedCallback, tokenId])\n\n  const [myTopBid, setMyTopBid] = useState(false)\n  useEffect(() => {\n    if (!catInfo || !account) return\n    setMyTopBid(catInfo.highBidOwner.toLowerCase() === account.toLowerCase() && !over)\n  }, [account, catInfo, over])\n\n  const [myWinningBid, setMyWinningBid] = useState(false)\n  useEffect(() => {\n    if (!catInfo || !account) return\n    setMyWinningBid(catInfo.highBidOwner.toLowerCase() === account.toLowerCase() && over)\n  }, [account, catInfo, myTopBid, over])\n\n  const [myLowBid, setMyLowBid] = useState(false)\n  useEffect(() => {\n    if (!catInfo) return\n    setMyLowBid(catInfo.bidByAddress.gt(0) && !myTopBid && !myWinningBid)\n  }, [catInfo, myTopBid, myWinningBid])\n\n  if (error) {\n    return (\n      <Container>\n        <LoadingError catId={tokenId}>\n          <div>Error: {error.message}</div>\n        </LoadingError>\n      </Container>\n    )\n  } else if (catInfo?.loaded) {\n    return (\n      <Link to={{\n        pathname: `/auctions/${tokenId}`,\n        state: { catInfo }\n      }}>\n        <Container>\n          <div className=\"text-center text-sm\">\n            <div className=\"mb-2\">{catInfo.name}</div>\n            {catInfo.image && <Image\n              src={catInfo.image}\n              retry={{ count: 30, delay: 3 }}\n              width=\"100%\"\n              alt={catInfo.name}\n            />}\n            <div className=\"mt-1\">Top Bid</div>\n            <div>{parseFloat(utils.formatEther(catInfo.highBidAmount)).toFixed(2)} ETH</div>\n            <div className=\"text-3xl\">\n              {myTopBid && <div>{\"😻😻😻\"}</div>}\n              {myLowBid && <div>{\"😿😿😿\"}</div>}\n              {myWinningBid && owner === constants.AddressZero && <div>{\"🎉🎉🎉\"}</div>}\n            </div>\n          </div>\n        </Container>\n      </Link>\n    )\n  } else {\n    return (\n      <Container>\n        <LoadingError catId={tokenId}>\n          <div>Loading...</div>\n        </LoadingError>\n      </Container>\n    )\n  }\n}\n\nexport default DoomCatAuctionCard\n","import { useState, useEffect, useRef, useCallback } from 'react'\nimport { BigNumber } from 'ethers'\nimport Jumbo from \"../components/Jumbo\"\nimport DoomCatAuctionCard from '../components/DoomCatAuctionCard'\nimport { useData } from '../dataContext'\nimport { useTimeSplitter } from '../utils/time'\n\nconst NextAuctionIn = () => {\n  const { nextAuctionIn } = useData()\n  const { d, h, m, s } = useTimeSplitter(nextAuctionIn)\n\n  return (\n    <Jumbo>\n      <div className=\"text-center\">\n        <div className=\"uppercase text-lg mb-2\">next genesis auction starts in</div>\n        <div>{d} days {h} hours {m} minutes {s} seconds</div>\n      </div>\n    </Jumbo>\n  )\n}\n\nconst AuctionsAreOver = () => {\n  return (\n    <Jumbo>\n      <div className=\"text-center\">\n        <div className=\"uppercase text-xl mb-2\">genesis doomcat auctions are over!</div>\n        <div className=\"uppercase\">their souls have been saved</div>\n      </div>\n    </Jumbo>\n  )\n}\n\nconst CurrentAuction = () => {\n  const { inAuctionNumber, catsPerAuction, auctionEndsIn } = useData()\n\n  const { d, h, m, s } = useTimeSplitter(auctionEndsIn)\n\n  const [catIds, setCatIds] = useState([])\n  useEffect(() => {\n    setCatIds(\n      [...new Array(catsPerAuction.toNumber()).keys()]\n        .map(i => {\n          return i + 1 + inAuctionNumber.sub(1).mul(catsPerAuction).toNumber()\n        })\n    )\n  }, [catsPerAuction, inAuctionNumber])\n\n  return (\n    <Jumbo>\n      <div className=\"text-center text-2xl uppercase mb-4 text-purple\">\n        genesis doomcats auction {inAuctionNumber.toString()}\n      </div>\n      <div className=\"text-center mb-8\">\n        Ending in {d} days {h} hours {m} minutes {s} seconds\n      </div>\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-10\">\n        {catIds.length > 0 && catIds.map(catId => {\n          return (\n            <DoomCatAuctionCard tokenId={catId} key={catId} />\n          )\n        })}\n      </div>\n    </Jumbo>\n  )\n}\n\nconst CompletedAuction = ({ auctionNumber, loadedCallback }) => {\n  const { catsPerAuction } = useData()\n\n  const [catIds, setCatIds] = useState([])\n  useEffect(() => {\n    setCatIds(\n      [...new Array(catsPerAuction.toNumber()).keys()]\n        .map(i => {\n          return i + 1 + BigNumber.from(auctionNumber - 1).mul(catsPerAuction).toNumber()\n        })\n    )\n  }, [catsPerAuction, auctionNumber])\n\n  const [catsLoaded, setCatsLoaded] = useState([])\n\n  const catLoadedCallback = useCallback(catId => {\n    setCatsLoaded(catsLoaded => {\n      if (!catsLoaded.includes(catId.toString())) {\n        return [...catsLoaded, catId.toString()]\n      } else {\n        return catsLoaded\n      }\n    })\n  }, [])\n\n  useEffect(() => {\n    if (catsLoaded.length === catsPerAuction.toNumber() && loadedCallback) {\n      loadedCallback(auctionNumber)\n    }\n  }, [auctionNumber, catsLoaded.length, catsPerAuction, loadedCallback])\n\n  return (\n    <div className=\"mb-8\">\n      <hr className=\"mb-8\" />\n      <div className=\"text-center text-xl mb-8\">Auction {auctionNumber}</div>\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-10 mb-8\">\n        {catIds.length > 0 && catIds.map(catId => {\n          return (\n            <DoomCatAuctionCard tokenId={catId} key={catId} catLoadedCallback={catLoadedCallback} over />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nconst CompletedAuctions = () => {\n  const { completedAuctions } = useData()\n\n  const [auctionsOnScreen, setAuctionsOnScreen] = useState(1)\n  const [auctionsSectionsToShow, setAuctionsSectionsToShow] = useState([])\n  const [auctionsSections, setAuctionsSections] = useState([])\n  const [auctionsLoaded, setAuctionsLoaded] = useState([])\n\n  const bottomBoundaryRef = useRef(null)\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(en => {\n        if (en.intersectionRatio > 0 && auctionsOnScreen === auctionsLoaded.length) {\n          setAuctionsOnScreen(auctionsOnScreen => {\n            if (auctionsOnScreen === completedAuctions.toNumber() || auctionsOnScreen > auctionsLoaded.length) {\n              return auctionsOnScreen\n            } else {\n              return auctionsOnScreen + 1\n            }\n          })\n        }\n      })\n    })\n\n    if (bottomBoundaryRef.current) {\n      observer.observe(bottomBoundaryRef.current)\n    }\n\n    const unobserveRef = bottomBoundaryRef.current\n\n    return () => {\n      if (unobserveRef) {\n        observer.unobserve(unobserveRef)\n      }\n    }\n  }, [auctionsLoaded, auctionsLoaded.length, auctionsOnScreen, completedAuctions])\n\n  useEffect(() => {\n    setAuctionsSectionsToShow(\n      [...new Array(auctionsOnScreen).keys()]\n        .map(auctionIndex => {\n          return auctionIndex + completedAuctions.toNumber() - auctionsOnScreen\n        })\n    )\n  }, [auctionsOnScreen, completedAuctions])\n\n  const loadedCallback = useCallback(auctionId => {\n    setAuctionsLoaded(auctionsLoaded => {\n      if (!auctionsLoaded.includes(auctionId)) {\n        return [...auctionsLoaded, auctionId]\n      } else {\n        return auctionsLoaded\n      }\n    })\n  }, [])\n\n  useEffect(() => {\n    setAuctionsSections(auctionsSections => {\n      const currentSectionsIds = auctionsSections.map(section => section.key)\n      const missingSectionsIds = auctionsSectionsToShow.filter(id => !currentSectionsIds.includes(id.toString()))\n      const newSections = missingSectionsIds.map(id => <CompletedAuction auctionNumber={id + 1} key={id} loadedCallback={loadedCallback} />)\n      const allSections = [...auctionsSections, ...newSections]\n      const sortedSections = allSections.sort((a, b) => Number(b.key) - Number(a.key))\n      return sortedSections\n    })\n  }, [auctionsSectionsToShow, loadedCallback])\n\n  return (\n    <Jumbo>\n      <div className=\"text-center text-2xl mb-8 text-purple uppercase\">\n        Completed Auctions\n      </div>\n      {auctionsSections.length > 0 && auctionsSections}\n      <div ref={bottomBoundaryRef} />\n    </Jumbo>\n  )\n}\n\nconst Auctions = () => {\n  const { inAuctionNumber, completedAuctions, auctionsCount } = useData()\n\n  return (\n    <div>\n      {inAuctionNumber.eq(0) && completedAuctions.lt(auctionsCount) && <NextAuctionIn />}\n      {completedAuctions.eq(auctionsCount) && <AuctionsAreOver />}\n      {inAuctionNumber.gt(0) && <CurrentAuction />}\n      {completedAuctions.gt(0) && <CompletedAuctions />}\n    </div>\n  )\n}\n\nexport default Auctions\n","import { useState, useEffect } from 'react'\nimport { BigNumber, constants, utils } from 'ethers'\nimport { useData } from '../dataContext'\nimport { useWeb3 } from '../web3'\nimport { useTransaction } from '../dataContext/transactions'\nimport { useCatOwner } from '../dataContext/cats'\nimport { useTimeSplitter } from '../utils/time'\n\nconst Bid = ({ catInfo }) => {\n  const { contractCall, pending } = useTransaction()\n  const [callData, setCallData] = useState([])\n  const [buttonDisabled, setButtonDisabled] = useState(true)\n\n  const { doomCatContract, auctionsBidIncrement, catsPerAuction, auctionEndsIn, myEtherBalance } = useData()\n  const [bidAmount, setBidAmount] = useState(\"0\")\n  const [minBidAmount, setMinBidAmount] = useState(BigNumber.from(0));\n  const [bidAmountBigNumber, setBidAmountBigNumber] = useState(BigNumber.from(0));\n\n  const { h, m, s } = useTimeSplitter(auctionEndsIn)\n\n\n  const updateBid = e => {\n    const value = e.target.value.split(\".\")\n\n    if (value.length === 1) {\n      setBidAmount(value[0])\n      return\n    }\n\n    if (value.length === 2) {\n      const decimals = value[1].substring(0, 18)\n      setBidAmount(`${value[0]}.${decimals}`)\n      return\n    }\n\n    // shouldn't get here\n    setBidAmount(\"0\")\n  }\n\n  useEffect(() => {\n    setMinBidAmount(catInfo.highBidAmount.add(auctionsBidIncrement))\n  }, [auctionsBidIncrement, catInfo])\n\n\n  useEffect(() => {\n    if (!bidAmount) return\n    setBidAmountBigNumber(utils.parseEther(bidAmount).sub(catInfo.bidByAddress))\n  }, [bidAmount, catInfo.bidByAddress])\n\n  useEffect(() => {\n    setBidAmount(bidAmount => {\n      if (utils.parseEther(bidAmount).lt(minBidAmount)) {\n        return utils.formatEther(minBidAmount)\n      } else {\n        return bidAmount\n      }\n    })\n  }, [minBidAmount])\n\n  useEffect(() => {\n    setButtonDisabled(\n      !(\n        !pending &&\n        bidAmountBigNumber.add(catInfo.bidByAddress).gte(minBidAmount) &&\n        myEtherBalance.gte(bidAmountBigNumber)\n      )\n    )\n  }, [pending, catInfo, bidAmountBigNumber, minBidAmount, myEtherBalance])\n\n  useEffect(() => {\n    if (!doomCatContract) return\n\n    setCallData([\n      doomCatContract.bid,\n      [((catInfo.id % catsPerAuction.toNumber()) - 1), { value: bidAmountBigNumber.toString() }],\n      \"PLACING BID\", \"BID FAILED\", \"BID SUCCEEDED\",\n    ])\n  }, [auctionsBidIncrement, bidAmountBigNumber, catInfo, catsPerAuction, doomCatContract])\n\n\n  const bid = e => {\n    e.preventDefault()\n    contractCall(...callData)\n  }\n\n  return (\n    <div>\n      <div className=\"text-center\">\n        <div className=\"uppercase mb-2\">Auction ends in {h} hours {m} minutes {s} seconds</div>\n      </div>\n      <form className=\"mb-4 max-w-xs mx-auto\" onSubmit={bid}>\n        <div className=\"flex flex-col sm:flex-row items-center\">\n          <input type=\"number\" step=\"any\" min={utils.formatEther(minBidAmount)} placeholder={utils.formatEther(minBidAmount)} className=\"flex-grow border rounded p-2 w-min mb-4 sm:mr-4 sm:mb-0\" value={bidAmount} onChange={updateBid} />\n          <button type=\"submit\" disabled={buttonDisabled} className=\"bg-purple text-white px-4 py-2 shadow-lg disabled:cursor-not-allowed disabled:opacity-30\">BID</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nconst Withdraw = ({ catInfo }) => {\n  const { contractCall, pending } = useTransaction()\n  const [buttonDisabled, setButtonDisabled] = useState(true)\n  const { doomCatContract } = useData()\n\n  useEffect(() => {\n    setButtonDisabled(pending)\n  }, [pending])\n\n  const withdraw = () => {\n    contractCall(\n      doomCatContract.withdrawLowBid,\n      [catInfo.id],\n      \"WITHDRAW BID\", \"WITHDRAW FAILED\", \"WITHDRAW SUCCEEDED\"\n    )\n  }\n\n  const [buttonText, setButtonText] = useState(\"WITHDRAW BID\")\n  useEffect(() => {\n    setButtonText(`WITHDRAW ${utils.formatEther(catInfo.bidByAddress)} ETH BID`)\n  }, [catInfo.bidByAddress])\n\n  return (\n    <div className=\"text-center mb-4\">\n      <button type=\"submit\" disabled={buttonDisabled} onClick={withdraw} className=\"bg-purple text-white px-4 py-2 shadow-lg disabled:cursor-not-allowed disabled:opacity-30\">{buttonText}</button>\n    </div>\n  )\n}\n\nconst Claim = ({ catInfo }) => {\n  const { contractCall, pending } = useTransaction()\n  const [buttonDisabled, setButtonDisabled] = useState(true)\n  const { doomCatContract } = useData()\n\n  useEffect(() => {\n    setButtonDisabled(pending)\n  }, [pending])\n\n  const claim = () => {\n    contractCall(\n      doomCatContract.claimWinningBid,\n      [catInfo.id],\n      \"CLAIMING GENESIS CAT\", \"CLAIM FAILED\", \"CLAIM SUCCEEDED\"\n    )\n  }\n\n  return (\n    <div className=\"text-center mb-4\">\n      <button type=\"submit\" disabled={buttonDisabled} onClick={claim} className=\"bg-purple text-white px-4 py-2 shadow-lg disabled:cursor-not-allowed disabled:opacity-30\">{\"🎉 CLAIM GENESIS CAT 🎉\"}</button>\n    </div>\n  )\n}\n\nconst AuctionInputs = ({ catInfo, inAuction }) => {\n  const { account } = useWeb3()\n\n  const [canBid, setCanBid] = useState(false)\n  useEffect(() => {\n    setCanBid(inAuction)\n  }, [inAuction])\n\n  const [canWithdraw, setCanWithdraw] = useState(false)\n  useEffect(() => {\n    if (!account) return\n\n    setCanWithdraw(\n      catInfo.bidByAddress.gt(0) &&\n      catInfo.highBidOwner.toLowerCase() !== account.toLowerCase()\n    )\n  }, [account, catInfo.bidByAddress, catInfo.highBidOwner])\n  \n  const [catId, setCatId] = useState(BigNumber.from(0))\n  useEffect(() => {\n    if (!catInfo.id) return\n    setCatId(BigNumber.from(catInfo.id))\n  }, [catInfo])\n\n  const { doomCatContract } = useData()\n  const owner = useCatOwner(doomCatContract, catId)\n  const [canClaim, setCanClaim] = useState(false)\n  useEffect(() => {\n    if (!account) return\n\n    setCanClaim(\n      !inAuction &&\n      catInfo.highBidOwner.toLowerCase() === account.toLowerCase() &&\n      owner === constants.AddressZero\n    )\n  }, [account, catInfo.highBidOwner, inAuction, owner])\n\n  return (\n    <div>\n      {canBid && <Bid catInfo={catInfo} />}\n      {canWithdraw && <Withdraw catInfo={catInfo} />}\n      {canClaim && <Claim catInfo={catInfo} />}\n    </div>\n  )\n}\n\nexport default AuctionInputs\n","import { useWeb3 } from '../web3'\nimport { useData } from '../dataContext'\nimport { utils } from 'ethers'\nimport { Link } from 'react-router-dom'\n\nconst AuctionDetails = ({ catInfo, inAuction }) => {\n  const { account } = useWeb3()\n  const { auctionsBidIncrement } = useData()\n\n  return(\n    <div className=\"mt-1\">\n      {inAuction && catInfo.highBidOwner.toLowerCase() === account.toString().toLowerCase() &&<div>\n        <div className=\"mb-4\">🎉 You Are In The Top Bid! 🎉</div>\n      </div>}\n\n      {inAuction && <div className=\"opacity-50\">\n        <div className=\"mb-1\">Min Bid Increment: {utils.formatEther(auctionsBidIncrement)} ETH</div>\n        <div className=\"mb-1\">Minimum Next Bid: {utils.formatEther(catInfo.highBidAmount.add(auctionsBidIncrement))} ETH</div>\n      </div>}\n\n      <div className=\"mb-1\">Top Bidder: <Link className=\"text-purple\" to={`/gallery/${catInfo.highBidOwner}`}>{catInfo.highBidOwner.substring(0,8)}</Link></div>\n      <div className=\"mb-1\">Top Bid: {utils.formatEther(catInfo.highBidAmount)} ETH</div>\n      <div className=\"mb-1\">My Bid: {utils.formatEther(catInfo.bidByAddress.toString())} ETH</div>\n      <div className=\"mb-1\">Total Bids: {catInfo.bidCount.toNumber()}</div>\n      \n    </div>\n  )\n}\n\nexport default AuctionDetails\n","import { useEffect, useState } from 'react'\nimport Image from 'react-graceful-image'\nimport { BigNumber } from 'ethers'\nimport { Redirect, useParams, useLocation } from 'react-router-dom'\nimport Jumbo from \"../components/Jumbo\"\nimport AuctionInputs from '../components/AuctionInputs'\nimport AuctionDetails from \"../components/AuctionDetails\"\nimport { useWeb3 } from '../web3'\nimport { useData } from '../dataContext'\nimport { useAuctionCatInfo } from '../dataContext/cats'\n\nconst LoadingError = ({ children, catId }) => {\n  return (\n    <Jumbo>\n      <div className=\"h-full text-center\">\n        <div className=\"text-xl\">DoomCat #{catId.toString()}</div>\n        <div className=\"flex flex-col justify-center h-full p-4\">{children}</div>\n      </div>\n    </Jumbo>\n  )\n}\n  \nconst AuctionCatDetails = () => {\n  const { id } = useParams()\n  const { doomCatContract, inAuctionNumber, catsPerAuction } = useData()\n  const { account } = useWeb3()\n\n  const location = useLocation()\n\n  const [catId, setCatId] = useState(BigNumber.from(0))\n\n  useEffect(() => {\n    if (!isNaN(id)) {\n      setCatId(BigNumber.from(id))\n    } else {\n      setCatId(null)\n    }\n  }, [id])\n\n  const [tokenURI, setTokenURI] = useState()\n  useEffect(() => {\n    if (catId.eq(0)) return\n    setTokenURI(`https://api.doom.cat/metadata/${catId}`)\n  }, [catId])\n\n  const [catInfo, error] = useAuctionCatInfo(doomCatContract, catId, tokenURI, account, location?.state?.catInfo)\n\n  const [isInAuction, setIsInAuction] = useState(false)\n  useEffect(() => {\n    if (inAuctionNumber.eq(0) || !catInfo || !catInfo.id) {\n      setIsInAuction(false)\n      return\n    }\n\n    setIsInAuction(\n      catInfo.id > inAuctionNumber.toNumber() * catsPerAuction.toNumber() - catsPerAuction.toNumber() &&\n      catInfo.id <= inAuctionNumber.toNumber() * catsPerAuction.toNumber()\n    )\n  }, [catInfo, catsPerAuction, inAuctionNumber])\n\n  if (catId === null) {\n    return <Redirect to=\"/\" />\n  } else if (error) {\n    return (\n      <LoadingError catId={catId}>\n        <div>Error: {error.message}</div>\n      </LoadingError>\n    )\n  } else if (catInfo) {\n    return (\n      <Jumbo>\n        <div className=\"mb-4 text-center text-xl\">{catInfo.name}</div>\n        <div className=\"text-xs mt-4\">\n          <div className=\"flex flex-col items-center mt-4\">\n            <AuctionInputs catInfo={catInfo} inAuction={isInAuction} />\n            <AuctionDetails catInfo={catInfo} inAuction={isInAuction} /> \n          </div>\n          <div className=\"max-w-md mx-auto\">\n            {catInfo.image && <Image\n              src={catInfo.image}\n              retry={{ count: 30, delay: 3 }}\n              width=\"100%\"\n              alt={catInfo.name}\n            />}\n          </div>\n        </div>\n        <div className=\"flex flex-col items-center mt-4\">\n          <div>\n            <div>ID: {catInfo.id}</div>\n            {catInfo.attributes?.map((a, i) => {\n              return (\n                <div key={i}>{a.trait_type}: {a.value}</div>\n              )\n            })}\n          </div>\n        </div>\n      </Jumbo>\n    )\n  } else {\n    return (\n      <LoadingError catId={catId}>\n        <div>Loading...</div>\n      </LoadingError>\n    )\n  }\n}\n\nexport default AuctionCatDetails\n","import { Link } from 'react-router-dom'\nimport Image from 'react-graceful-image'\nimport { useData } from '../dataContext'\nimport { useTokenURI, useCatInfo } from '../dataContext/cats'\nimport { useEffect } from 'react'\n\nconst Container = ({ children }) => {\n  return (\n    <div className=\"transition duration-500 ease-in-out transform hover:scale-110\">\n      {children}\n    </div>\n  )\n}\n\nconst LoadingError = ({ children, catId }) => {\n  return (\n    <div className=\"h-full text-center text-sm p-4\">\n      <div>DoomCat #{catId.toString()}</div>\n      <div className=\"flex flex-col justify-center mt-6\">{children}</div>\n    </div>\n  )\n}\n\nconst DoomCatCard = ({ tokenId, loadedCallback }) => {\n  const { doomCatContract } = useData()\n  const tokenURI = useTokenURI(doomCatContract, tokenId)\n  const [catInfo, error] = useCatInfo(doomCatContract, tokenId, tokenURI)\n\n  useEffect(() => {\n    if (catInfo && loadedCallback) {\n      loadedCallback(tokenId)\n    }\n  }, [catInfo, loadedCallback, tokenId])\n\n  if (error) {\n    return (\n      <Container>\n        <LoadingError catId={tokenId}>\n          <div>Error: {error.message}</div>\n        </LoadingError>\n      </Container>\n    )\n  } else if (catInfo) {\n    return (\n      <Link to={{\n        pathname: `/ascended/${tokenId}`,\n        state: { catInfo }\n      }}>\n        <Container>\n          <div className=\"text-center text-sm mb-2\">{catInfo.name}</div>\n          <div className=\"text-sm\">\n            <Image\n              src={catInfo.image}\n              retry={{ count: 30, delay: 3 }}\n              width=\"100%\"\n              alt={catInfo.name}\n            />\n          </div>\n        </Container>\n      </Link>\n    )\n  } else {\n    return (\n      <Container>\n        <LoadingError catId={tokenId}>\n          <div>Loading...</div>\n        </LoadingError>\n      </Container>\n    )\n  }\n}\n\nexport default DoomCatCard\n","import { useState, useEffect, useRef, useCallback } from 'react'\nimport { BigNumber } from 'ethers'\nimport { Link } from 'react-router-dom'\nimport Jumbo from \"../components/Jumbo\"\nimport DoomCatCard from '../components/DoomCatCard'\nimport { useData } from '../dataContext'\nimport { useWeb3 } from '../web3'\n\nconst Ascended = () => {\n  const { totalCats, remainingCats, genesisCats } = useData()\n  const { account } = useWeb3()\n\n  const [rescuedCount, setRescuedCount] = useState(BigNumber.from(0))\n  useEffect(() => {\n    if (!remainingCats || !totalCats || !genesisCats) return\n    setRescuedCount(totalCats.sub(remainingCats).sub(genesisCats))\n  }, [genesisCats, remainingCats, totalCats])\n\n  const [catsPerPage] = useState(BigNumber.from(8))\n  const [catsOnScreen, setCatsOnScreen] = useState(catsPerPage)\n  const [catsLoaded, setCatsLoaded] = useState([])\n  const bottomBoundaryRef = useRef(null)\n  const scrollObserver = useCallback(node => {\n    const intObs = new IntersectionObserver(entries => {\n      entries.forEach(en => {\n        if (en.intersectionRatio > 0 && catsOnScreen.eq(catsLoaded.length)) {\n          setCatsOnScreen(catsOnScreen => catsOnScreen.add(catsPerPage))\n          intObs.unobserve(node)\n        }\n      })\n    })\n    intObs.observe(node)\n  }, [catsLoaded.length, catsOnScreen, catsPerPage])\n\n  useEffect(() => {\n    if (bottomBoundaryRef.current) {\n      scrollObserver(bottomBoundaryRef.current)\n    }\n  }, [scrollObserver, bottomBoundaryRef])\n\n  const loadedCallback = useCallback(catId => {\n    setCatsLoaded(catsLoaded => {\n      if (!catsLoaded.includes(catId.toString())) {\n        return [...catsLoaded, catId.toString()]\n      } else {\n        return catsLoaded\n      }\n    })\n  }, [])\n\n  const [catIdsToShow, setCatIdsToShow] = useState([])\n  useEffect(() => {\n    if (!genesisCats) return\n\n    setCatIdsToShow(\n      [...new Array(catsOnScreen.toNumber()).keys()]\n        .map(catIndex => BigNumber.from(catIndex).add(genesisCats).add(1).add(rescuedCount.sub(catsOnScreen)))\n        .filter(id => genesisCats.lt(id))\n    )\n  }, [catsOnScreen, genesisCats, rescuedCount])\n\n  const [catCards, setCatCards] = useState([])\n  useEffect(() => {\n    setCatCards(catCards => {\n      const currentCardIds = catCards.map(card => card.key)\n      const missingCardIds = catIdsToShow.filter(id => !currentCardIds.includes(id.toString()))\n      const newCards = missingCardIds.map(id => <DoomCatCard tokenId={id} key={id.toNumber()} loadedCallback={loadedCallback} />)\n      const allCards = [...catCards, ...newCards]\n      const sortedCards = allCards.sort((a, b) => Number(b.key) - Number(a.key))\n      return sortedCards\n    })\n  }, [catIdsToShow, loadedCallback])\n\n  return (\n    <Jumbo>\n      <div className=\"mb-2 text-center text-xl italic\">{rescuedCount.toString()} DoomCats have been Rescued</div>\n      {account &&\n        <div className=\"text-center text-purple\">\n          <Link to=\"/gallery\">View My DoomCats</Link>\n        </div>\n      }\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-10 my-8\">\n        {catCards.length > 0 && catCards}\n      </div>\n      <div ref={bottomBoundaryRef} />\n    </Jumbo>\n  )\n}\n\nexport default Ascended\n","import { utils } from 'ethers'\nimport { useParams, useLocation, Redirect } from 'react-router-dom'\nimport Jumbo from \"../components/Jumbo\"\nimport DoomCatCard from '../components/DoomCatCard'\nimport OpenSeaMessageAccount from '../components/OpenSeaMessageAccount'\nimport { useWeb3 } from '../web3'\nimport { useData } from '../dataContext'\nimport { useCatBalance, useTokensOfOwnerByIndexes } from '../dataContext/cats'\n\nconst Gallery = () => {\n  const { addressParam } = useParams()\n  const { account } = useWeb3()\n  const location = useLocation()\n\n  const { doomCatContract } = useData()\n  const catBalance = useCatBalance(doomCatContract, addressParam)\n  const catIds = useTokensOfOwnerByIndexes(doomCatContract, addressParam, catBalance)\n\n  if (!addressParam) {\n    if (!account) {\n      return <Redirect to=\"/\" />\n    } else {\n      return <Redirect to={`${location.pathname}/${account}`} />\n    }\n  } else if (!utils.isAddress(addressParam)) {\n    return <Redirect to=\"/\" />\n  } else {\n    return (\n      <Jumbo>\n        <div className=\"mb-8 text-center text-xl italic\">\n          <a className=\"text-purple\" href={`https://etherscan.io/token/${doomCatContract?.address}?a=${addressParam}`} target=\"_blank\" rel=\"noreferrer\">{addressParam.substring(0, 8)}</a> has {catBalance.toString()} DoomCats\n          <OpenSeaMessageAccount accountCompare={addressParam} />\n        </div>\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-10\">\n          {catIds.length > 0 && catIds.map(catId => {\n            return (\n              <DoomCatCard tokenId={catId} key={catId.toNumber()} />\n            )\n          })}\n        </div>\n      </Jumbo>\n    )\n  }\n}\n\nexport default Gallery\n","import { useState, useEffect } from 'react'\nimport { constants } from 'ethers'\nimport { useHistory } from 'react-router-dom'\nimport Jumbo from '../components/Jumbo'\nimport { useWeb3 } from '../web3'\nimport { connect } from '../web3/useProvider'\nimport { useData } from '../dataContext'\nimport { useTransaction } from '../dataContext/transactions'\n\nconst Container = ({ show, completed, instructions, buttonText, buttonClick, buttonDisabled, done }) => {\n  return (\n    <div className=\"mb-8 flex relative\">\n      <div className={`mr-4 text-4xl absolute -left-12 ${!completed && \"hidden\"}`}>{done ? \"🎉\" : \"✓\"}</div>\n      <div>\n        <div className={`${!show && \"opacity-30\"}`}>{instructions}</div>\n        {buttonText && buttonClick && <button onClick={buttonClick} disabled={buttonDisabled} className=\"mt-2 bg-purple text-white px-4 py-2 shadow-lg disabled:cursor-not-allowed disabled:opacity-30\">{buttonText}</button>}\n      </div>\n    </div>\n  )\n}\n\nconst Account = () => {\n  const { account } = useWeb3()\n\n  const [completed, setCompleted] = useState(false)\n  useEffect(() => {\n    setCompleted(!!account)\n  }, [account])\n\n  return (\n    <Container\n      show={true}\n      completed={completed}\n      instructions=\"Connect your account to determine if additional steps are needed to trade your DoomCats on OpenSea.\"\n      buttonText=\"CONNECT\"\n      buttonClick={connect}\n      buttonDisabled={completed}\n    />\n  )\n}\n\nconst NeedACat = () => {\n  const { account } = useWeb3()\n  const history = useHistory()\n  const { myCatBalance } = useData()\n\n  const [show, setShow] = useState(false)\n  useEffect(() => {\n    setShow(!!account)\n  }, [account])\n\n  const [completed, setCompleted] = useState(false)\n  useEffect(() => {\n    setCompleted(myCatBalance.gt(0))\n  }, [myCatBalance])\n\n  return (\n    <Container\n      show={show}\n      completed={completed}\n      instructions=\"You need at least one (1) DoomCat to continue.\"\n      buttonText=\"RESCUE\"\n      buttonClick={() => history.push('/')}\n      buttonDisabled={!show || completed}\n    />\n  )\n}\n\nconst Proxy = () => {\n  const { myCatBalance, openSeaProxyRegistryContract, openSeaProxyAddress } = useData()\n\n  const [show, setShow] = useState(false)\n  useEffect(() => {\n    setShow(myCatBalance.gt(0))\n  }, [myCatBalance])\n\n  const { contractCall, pending } = useTransaction()\n  const createProxy = () => {\n    contractCall(\n      openSeaProxyRegistryContract.registerProxy, [],\n      \"CREATING PROXY CONTRACT\", \"PROXY CONTRACT CREATION FAILED\", \"PROXY CONTRACT CREATION SUCCESSFUL\"\n    )\n  }\n\n  const [completed, setCompleted] = useState(false)\n  useEffect(() => {\n    setCompleted(openSeaProxyAddress !== constants.AddressZero)\n  }, [openSeaProxyAddress])\n\n  return (\n    <Container\n      show={show}\n      completed={completed}\n      instructions={<div>Create an OpenSea Proxy contract for your account. This only needs to happen once per account, in order to list <span className=\"italic\">anything</span> on OpenSea.</div>}\n      buttonText=\"CREATE PROXY\"\n      buttonClick={createProxy}\n      buttonDisabled={!show || completed || pending}\n    />\n  )\n}\n\nconst Approved = () => {\n  const { openSeaProxyAddress, doomCatContract, openSeaApproved } = useData()\n\n  const [show, setShow] = useState(false)\n  useEffect(() => {\n    setShow(openSeaProxyAddress !== constants.AddressZero)\n  }, [openSeaProxyAddress])\n\n  const { contractCall, pending } = useTransaction()\n  const approveProxy = () => {\n    contractCall(\n      doomCatContract.setApprovalForAll, [openSeaProxyAddress, true],\n      \"APPROVING PROXY CONTRACT\", \"PROXY CONTRACT APPROVAL FAILED\", \"PROXY CONTRACT APPROVAL SUCCESSFUL\"\n    )\n  }\n\n  const [completed, setCompleted] = useState(false)\n  useEffect(() => {\n    setCompleted(openSeaApproved)\n  }, [openSeaApproved])\n\n  return (\n    <Container\n      show={show}\n      completed={completed}\n      instructions=\"Submit an Approval transaction to enable selling your DoomCats on OpenSea.\"\n      buttonText=\"APPROVE\"\n      buttonClick={approveProxy}\n      buttonDisabled={!show || completed || pending}\n    />\n  )\n}\n\nconst Congrats = () => {\n  const { openSeaApproved } = useData()\n\n  const [show, setShow] = useState(false)\n  useEffect(() => {\n    setShow(openSeaApproved)\n  }, [openSeaApproved])\n\n  return (\n    <Container\n      show={show}\n      completed={show}\n      instructions=\"Congrats! Your address is approved for trading DoomCats on OpenSea.\"\n      done={true}\n    />\n  )\n}\n\nconst OpenSeaApproval = () => {\n  return (\n    <Jumbo>\n      <div className=\"mb-8 text-center text-xl\">\n        Trade your DoomCats on OpenSea\n      </div>\n      <div className=\"pl-8\">\n        <Account />\n        <NeedACat />\n        <Proxy />\n        <Approved />\n        <Congrats />\n      </div>\n    </Jumbo>\n  )\n}\n\nexport default OpenSeaApproval\n","import { ToastContainer } from 'react-toastify'\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Home from './pages/Home'\nimport DoomCatDetails from './pages/DoomCatDetails'\nimport Auctions from './pages/Auctions'\nimport AuctionCatDetails from './pages/AuctionCatDetails'\nimport Ascended from './pages/Ascended'\nimport Gallery from './pages/Gallery'\nimport { Web3Provider } from './web3'\nimport { DataProvider } from './dataContext'\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport OpenSeaApproval from './pages/OpenSeaApproval';\n\nfunction App() {\n  return (\n    <Web3Provider>\n      <DataProvider>\n        <Router>\n          <div className=\"min-h-screen flex flex-col justify-between\">\n            <div>\n              <Header />\n              <div className=\"container\">\n                <Switch>\n                  <Route path=\"/ascended/:id\" component={DoomCatDetails} />\n                  <Route path=\"/ascended\" component={Ascended} />\n                  <Route path=\"/auctions/:id\" component={AuctionCatDetails} />\n                  <Route path=\"/auctions\" component={Auctions} />\n                  <Route path=\"/gallery/:addressParam\" component={Gallery} />\n                  <Route path=\"/gallery\" component={Gallery} />\n                  <Route path=\"/open-sea-approval\" component={OpenSeaApproval} />\n                  <Route path=\"/\" component={Home} />\n                </Switch>\n              </div>\n            </div>\n            <Footer />\n          </div>\n        </Router>\n        <ToastContainer\n          closeButton={false}\n          position=\"bottom-right\"\n          newestOnTop={false}\n        />\n      </DataProvider>\n    </Web3Provider>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}